<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.15-DEV" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://yet.unresolved.xyz/index.xml">

    
    <title>text-rendering: optimizeLegibility;を指定するとWebフォントの読み込みがおかしくなる - Unresolved</title>
    <meta property='og:title' content="text-rendering: optimizeLegibility;を指定するとWebフォントの読み込みがおかしくなる - Unresolved">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://yet.unresolved.xyz/blog/2016/03/01/text-rendering-optimizelegibility-and-web-fonts/">
    
    

  </head>

  <body>

    <div class="container">
      <header class="site">
        <a href="http://yet.unresolved.xyz/">Unresolved</a>
      </header>



<article class="single" itemscope="itemscope" itemtype="http://schema.org/Article">

  <meta itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" content="http://yet.unresolved.xyz/"/>
  <meta itemprop="dateModified" content="2016-03-01T14:08:26&#43;09:00">
  <meta itemprop="headline" content="text-rendering: optimizeLegibility;を指定するとWebフォントの読み込みがおかしくなる">
  <meta itemprop="description" content="よくやるこれ。 body { text-rendering: optimizeLegibility; } ちょうどブログのデザインを変えてたら、何故か毎回リロードしないとGoogle Fontsから読ませてるOpen Sans">
  <meta itemprop="url" content="http://yet.unresolved.xyz/blog/2016/03/01/text-rendering-optimizelegibility-and-web-fonts/">
  <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
    <meta itemprop="url" content="http://yet.unresolved.xyz/images/default.jpg" />
    <meta itemprop="width" content="800">
    <meta itemprop="height" content="800">
  </div>
  <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
    <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
      <meta itemprop="url" content="http://yet.unresolved.xyz/images/logo.jpg">
      <meta itemprop="width" content="100">
      <meta itemprop="height" content="100">
    </div>
    <meta itemprop="name" content="Unresolved">
  </div>
  <div itemprop="author" itemscope itemtype="https://schema.org/Person">
    <meta itemprop="name" content="Daisuke Tsuji">
  </div>

  <header>
    <time class="date" itemprop="datePublished" pubdate="pubdate" datetime="2016-03-01T14:08:26&#43;09:00">Tue, Mar 1, 2016</time>
    <h1 class="title">text-rendering: optimizeLegibility;を指定するとWebフォントの読み込みがおかしくなる</h1>
  </header>

  <div class="body" itemprop="articleBody">

<p>よくやるこれ。</p>

<pre><code class="language-css">body {
  text-rendering: optimizeLegibility;
}
</code></pre>

<p>ちょうどブログのデザインを変えてたら、何故か毎回リロードしないとGoogle Fontsから読ませてるOpen Sansが効かなくなって困った。
はじめはキャッシュとかChromeの不調かなんかかと思ってたんだけど、AndroidのChromeでも再現するし何かがおかしい。</p>

<p>上記のプロパティを外したら直ったので、これが原因なのかもしれない。</p>

<h2 id="text-rendering:2acb9387331612b63a2d67e9f2d06529">text-rendering？</h2>

<p>文字列の描画についてのプロパティ。
かなりぼんやりした曖昧な情報がネットに溢れてるので、結局なんなのよと言いたくなった人は多いと思う。</p>

<ul>
<li><a href="http://on-ze.com/archives/609">CSSの［text-rendering: optimizeLegibility;］は指定しないほうが無難かも。 - ONZE</a></li>
<li><a href="http://terkel.jp/archives/2012/09/text-rendering-optimizelegibility/">text-rendering: optimizeLegibility · terkel.jp</a></li>
<li><a href="http://www.pro-s.co.jp/engineerblog/design/post_5246.html">text-renderingって何？！ | Webサイト制作ならプロフェッサ（東京都/品川区）</a></li>
</ul>

<p>僕はそういうとき、MDNを信用して参考にさせてもらってます。</p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-rendering">text-rendering - CSS | MDN</a></p>

<p>Summaryにはこうある。</p>

<blockquote>
<p>The text-rendering CSS property provides information to the rendering engine about what to optimize for when rendering text.</p>

<p>The browser makes trade-offs among speed, legibility, and geometric precision.</p>
</blockquote>

<p><strong><code>text-rendering</code>はテキストを何に最適化して表示するかをレンダリングエンジンに提示する。</strong>
この値によって、ブラウザの処理はレンダリング速度や可読性、配置精度のいずれかのトレードオフとなる。</p>

<h2 id="つまり何に使うの:2acb9387331612b63a2d67e9f2d06529">つまり何に使うの？</h2>

<p>この3つのどれを求めるのよってのを伝える属性なわけですね。</p>

<ul>
<li>描画速度</li>
<li>読みやすさ</li>
<li>配置の正確さ</li>
</ul>

<p><code>geometric precision</code>はちょっと訳せなかったけど、文字の配置精度とかそういう意味だと解釈しました。</p>

<p>そして注釈。</p>

<blockquote>
<p>The text-rendering property is an SVG property that is not defined in any CSS standard. However, Gecko and WebKit browsers let you apply this property to HTML and XML content on Windows, Mac OS X and Linux.</p>
</blockquote>

<p><code>text-rendering</code>はSVGのための属性でCSSの標準実装じゃないんだけど、WebKitとかGeckoだと使えますよと。</p>

<p>何も考えずに指定するのはNGな気がしますね。
内容に自信がないのでコメントで指摘ください。</p>
</div>

  <aside class="article tags">
    
    <a href="http://yet.unresolved.xyz/tags/css">css</a>
    
    <a href="http://yet.unresolved.xyz/tags/font">font</a>
    
    <a href="http://yet.unresolved.xyz/tags/web-fonts">web-fonts</a>
    
    <a href="http://yet.unresolved.xyz/tags/google-fonts">google-fonts</a>
    
  </aside>

  <aside class="article comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'unresolved';
    var disqus_identifier = 'http:\/\/yet.unresolved.xyz\/blog\/2016\/03\/01\/text-rendering-optimizelegibility-and-web-fonts\/';
    var disqus_title = 'text-rendering: optimizeLegibility;を指定するとWebフォントの読み込みがおかしくなる';
    var disqus_url = 'http:\/\/yet.unresolved.xyz\/blog\/2016\/03\/01\/text-rendering-optimizelegibility-and-web-fonts\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </aside>

</article>

<footer class="site">
  <p>&copy; 2016 Daisuke Tsuji</p>
  <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>,</p>
  <p>Theme <a href="https://github.com/dim0627/hugo_theme_harb" target="_blank">Harb</a> designed by <a href="http://yet.unresolved.xyz" target="_blank">Daisuke Tsuji</a></p>
</footer>

</div>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
$(function() {
  $('.expand-switch').on('click', function() {
    if ($('.expand-target').is(':visible')) {
      $('.expand-target').hide();
      $(this).removeClass('open');
    } else {
      $('.expand-target').show();
      $(this).addClass('open');
    }
    return false;
  });
});
</script>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-55005303-1', 'auto');
ga('send', 'pageview');
</script>


</body>
</html>

