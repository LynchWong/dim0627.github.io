<!DOCTYPE html>

<head>
<meta charset="utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">



<meta property="og:title" content="All Entries | Unresolved">
<meta property="og:url" content="http://yet.unresolved.xyz">

<meta property="og:site_name" content="Unresolved">
<meta name="google-site-verification" content="SLxungm5o9WvGwPUEGZCspbMBAsLBjOxAHNyjIBUuSI" />

<title>
    
    All Entries | Unresolved
    
</title>


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
<link rel="stylesheet" href="http://yet.unresolved.xyz/css/base.css">
<link rel="stylesheet" href="http://yet.unresolved.xyz/css/styles.css">
<link rel="stylesheet" href="http://yet.unresolved.xyz/css/custom.css">


<link rel="shortcut icon" href="http://yet.unresolved.xyz/assets/favicon.ico">


<link rel="alternate" type="application/rss+xml" title="RSS" href="http://yet.unresolved.xyz/index.xml">
</head>



<div class="wrap">
    <div class="masthead">
        <div class="container">
            <h3 class="masthead-title">
                <a href="http://yet.unresolved.xyz" title="Home">Unresolved</a>
            </h3>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </div>
    </div>

    <div class="container content">


<div class="post">
        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/02/14/make-task-manager-by-using-apigility/"><img src="http://yet.unresolved.xyz/images/apigility.png" alt="Apigility &#43; React.jsでタスク管理ツールを作ってみる"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sat, Feb 14, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/02/14/make-task-manager-by-using-apigility/">Apigility &#43; React.jsでタスク管理ツールを作ってみる</a></h1>
        <div class="summary">これに行ってきました。 Zend 社技術者による最近の PHP 関連の取り組みご紹介 - Zendイベント管理 | Doorkeeper 英語辛かった。 PHP7やらZ Rayやらまあ気になるものはそれなりにあったんだけど、 その中でも触ってみようかなと思えるくらい興味を持てたApigilityを触ってみようと思います。 ついでなので使ってみたかったReact.jsも導入してみる。 Apigility？ API構築に特化したのフレームワークらしい。 プレゼンテーションレイヤを完全に分離したアーキテクチャでの利用を想定しているんだと思う。 何が強いかって、DBさえ用意してしまえば後はGUIから操作するだけでAPIが作れてしまう。 DBも多分メジャーどころは大抵使える(と思う)し、APIもRPCはもちろん、RESTfulな設計にもバッチリ対応してるらしい。 今回は勉強も兼ねて、簡単なタスク管理ツールを作ってみます。 インストール このコマンドをべしっとやるだけで、カレントディレクトリにapigilityのディレクトリが切られる &amp; サーバまで起動する。 curl -sS https://apigility.org/install | php サーバを再度起動する場合はphp -S localhost:8888 -t public public/index.phpとかやればOK。 画面を開くとこんな感じのが出てくる。 ロゴがかわいいね。 ここからAPIの追加やらが出来る。 データベースの準備 プロダクションでやるものじゃないので、SQLiteでやっちゃう。 テーブルはこんな感じで、名前と完了/未完了が持てるだけにしよう。 create table tasks(id integer primary key, name varchar(20), finished integer); Apigilityからデータベースにつなぐ SettingsのDatabase Adapteresから定義を追加出来る。 今回はこんな感じで設定。 APIを追加する データはまだないけどとりあえずAPIだけ作ってみよう。 APIsのCreate New APIからAPIを追加する。 今回はTasksという名前で作成した。 粒度がわかりづらいけど、ここで作ったAPIに対して個々のサービスを追加していく。 大分類みたいなものだと捉えればいいのかな？ サービスを追加する さっき作ったTasksAPIに、データベースのtasksテーブルとRESTで紐づくサービスを追加する。 今回はREST Service Nameをtasks、DB-Connectedはさっき作ったアダプタとテーブル名を設定。 こんな感じになる。 接続できるか試してみよう。 データがないので、まずはPOSTで格納してみる。 いけてるっぽい。 取得は？ おお！取れる！ もちろんSQLite側にも、 sqlite&gt; select * from tasks; 1|task1|false 入ってます。 ビューを作る サーバサイドがあまりにもサクッと終わっちゃったな・・・。 後は画面側を生のHTMLにして、取得と格納は全部JSに任せます。 つってもここはあんまり説明してもしょうがないのでSSとコードだけ。 こんな感じで、 こんなHTMLでやりました。 &lt;!DOCTYPE HTML&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css&quot;&gt; &lt;style&gt; #tasks-wrapper { margin: 20px auto; max-width: 500px; } #tasks { } .buttons { margin-right: 5px; } .buttons&gt;button { margin-right: 5px; } &lt;/style&gt; &lt;div id=&quot;tasks-wrapper&quot;&gt; &lt;div class=&quot;input-group&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;task-name&quot; class=&quot;form-control&quot; placeholder=&quot;Task name&quot;&gt; &lt;span class=&quot;input-group-btn&quot;&gt; &lt;button id=&quot;task-post&quot; class=&quot;btn btn-success&quot; type=&quot;button&quot;&gt;登録&lt;/button&gt; &lt;/span&gt; &lt;/div&gt; &lt;hr&gt; &lt;div id=&quot;tasks&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/react/0.12.2/JSXTransformer.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;//code.jquery.com/jquery-2.1.3.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/app.js&quot; type=&quot;text/jsx&quot;&gt;&lt;/script&gt; JSはこんな。 var Task = React.createClass({ del: function(e) { $.ajax({ type: &quot;DELETE&quot;, url: &quot;/tasks/&quot; + this.props.id, }); }, finish: function(e) { $.ajax({ type: &quot;PUT&quot;, url: &quot;/tasks/&quot; + this.props.id, data: JSON.stringify({finished: 1}), headers: { &quot;Content-Type&quot;: &quot;application/json&quot;, } }); }, render: function() { return (&lt;li className=&quot;list-group-item clearfix&quot;&gt; &lt;div className=&quot;buttons pull-left&quot;&gt; {this.props.finished == &quot;0&quot; ?</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/02/14/make-task-manager-by-using-apigility/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/02/06/learning-vim-again/"><img src="http://yet.unresolved.xyz/images/vim.png" alt="今だからやるvimコマンド再学習"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Fri, Feb 6, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/02/06/learning-vim-again/">今だからやるvimコマンド再学習</a></h1>
        <div class="summary">ちょうど1年ほど前からvimを使ってるんだけど、 例に漏れずオレも使い始めの頃にこのサイトを参考にさせて頂きました。 僕がサクラエディタからVimに乗り換えるまで - give IT a try 2012年公開の記事なんだね、意外と最近。 ずっとずっとやれないで居たんだけど、いずれやろうと思っていたこの記事の一節があります。 そんなこんなで2〜3日ぐらい「Vim縛り」をやっていると、徐々にVim恐怖症は消えてくると思います。 おめでとうございます！これであなたも立派なVimmerです！！・・・と喜ぶのはまだ早いです。 もう一回チートシートを見直してください。 もう一回VimのTutorialをやってみてください。 あれ？Vimにこんなコマンドがあるなんて知らなかったぞ？何か便利そうやん！ と思うようなコマンドをいくつか再発見できるはずです。 ようやく実施出来たのでまた忘れたりしないようにメモっておきたい。 使ってなかったけどこれから使っていきたい思ったvimコマンド g; 前回編集した箇所に飛ぶ。 結構長いソースとか書いてる時、あっちこっち飛んだりするから面倒に感じてた。 行番号覚えたりっていう不毛なことやってたんだけど、今後はこれで済みそう！ &gt;&gt;, &lt;&lt; カーソル行をインデントする。 毎回行頭に戻って・・・ってやってたのが馬鹿らしい・・・。 :e **/Root.pm ワーキングディレクトリ以下からRoot.pmにマッチするファイルを開く。 unite.vimを使ってるからこっちに目がいかなかった。便利そう。 :e **/*Ro ワーキングディレクトリ以下から*Roにマッチするファイルを開く。 さらに便利そう。 gf カーソル位置にある単語と同名のファイル名を開く。 あんまり使わなそうだけど、こんなんあるんだなと感心した。 そういう場面に出くわしても忘れて普通にファイル開いちゃいそうだな・・・。 :wqa 全てのウィンドウを閉じて終了する。 今までは:q連打してたんだけど、よく考えれば普通にダサいよね。 スマートじゃないやり方は大抵何かが間違ってるんだなあと思った。 0 インデントのさらに行頭へカーソルを移動する。 こんなのも知らないとかまじかよ！って自分でも思ったけどいつも^を使ってたので煩わしかった。 ある程度操作が出来るようになるとそれでまかなってしまうから成長しないね・・・。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/02/06/learning-vim-again/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/02/05/vim-freezed-in-editting-a-php-file/"><img src="http://yet.unresolved.xyz/images/vim.png" alt="PHPファイルの定数に触るとvimがフリーズする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Thu, Feb 5, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/02/05/vim-freezed-in-editting-a-php-file/">PHPファイルの定数に触るとvimがフリーズする</a></h1>
        <div class="summary">意外と日が開いたね。 最近はPHPを書いてます。つってもほんと最近からだけど。 そんな最中、さあ書くぞーって時にvimがフリーズしたことがありました。 vimが止まったのは人生初の経験だったので焦りました。 もうほんと困った！ 原因 ほとんどコピペで作った.vimrcのせいで何が悪いのかがわからない・・・。 ていうか未だに書き方がようわからない・・・。 というわけでとりあえず色々消してみて軽くなるパターンを探す方法で行くしかなかった。 原始的最強。 結論を言いますとneocomplcacheの設定が甘かったです。 この設定が原因でした。 let g:neocomplcache_omni_patterns.php = '[^. \t]-&gt;\h\w*\|\h\w*::' Shougoさんのプラグインを適当に使ってたオレが悪かったんです。 実はこの件に関してはShougoさん本人がまとめててくださってました。 vim-jp » Hack #193: neocomplcacheの設定について知る 後編 g:neocomplcache_omni_patternsは、neocomplcacheがオムニ補完の関数を呼び出すためのキーワードパターンを設定します。 主な言語にはデフォルトで対応していますが、RubyやPHPなど重いものは無効化されています。 設定例のようにすれば有効化できますが、Vimがフリーズする可能性もあります。自己責任で使用してください。 つまり原因は定数云々じゃなくself::がパターンに合致したせいで、補完が走り一気に重たくなったと。 いいタイミングだし、0から書き直すかな・・・。 そしてHappy Vim Lifeを&hellip;</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/02/05/vim-freezed-in-editting-a-php-file/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/26/ordinary-linux-programming/"><img src="http://yet.unresolved.xyz/images/linux.png" alt="「ふつうのLinuxプログラミング」を読んだ"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Mon, Jan 26, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/26/ordinary-linux-programming/">「ふつうのLinuxプログラミング」を読んだ</a></h1>
        <div class="summary">ふつうのLinuxプログラミング Linuxの仕組みから学べるgccプログラミングの王道 読もうと思ったきっかけ Ruby書かないくせにるびまのインタビューの奴が好きで、著者である青木さんの記事を見てた時に知った。 Rubyist Magazine - Rubyist Hotlinks 【第 17 回】 青木峰郎さん Kernelとかいつかは触れたいけど実際どこから入ればいいかわからない、って人、結構いると思うんだよね。 オレもその一人で、この本はなんか、その入り口になるんじゃないかなって期待があった。 実際評判も良かったし。 前提 C言語、書けないんだよね。 高校の頃に書いたっきり、1行も、いや！1文字も書いてない！ 他人のコードを読む場面もなかったわけじゃないけど、ほぼ初心者としてこの本を読みました。 プロトタイプ宣言やらヘッダファイルやらを理解してたくらい。 ちなみに対象読者は、 構造体とポインタくらいはわかる って書いてあるんだけど、「とにかくプログラミング！」な本ではないので、そこまで必要はなさそう。 あ、唯一困ったのはLinkedListを使うところで出てきた-&gt;演算子・・・。 第 11 章 ポインタとリスト構造 この本に書いてあること Linuxの構造と、その上でのC言語っていう2本軸がある。 Linuxについては3つの概念をあげていて、 ファイルシステム プロセス ストリーム これをベースに、Linuxが動いてる仕組みを歴史とか思想をまじえて説明がされてる。 で、それらをC言語で扱う上での作法とか、注意点とか、プログラムを書く上での話に繋がっていくんだけど、 APIの紹介だけじゃなくて、「これはこういう理由で使ってはいけません」って話があるのはすごく良かった。 実際に何か作るときって、大抵どの界隈でも暗黙の了解とかルールがあると思っていて、 そういうのをきちんとした文献で知ることが出来るのは入門者にとってはありがたい事だと思う。 この本を読んで得られたもの まとめは最後に書くとして、読んでる中で納得したところとか課題が解決した点を章立てにしてみる。 Linuxの構造について 本書では一貫して前述した3つの概念をベースに説明しているから、思考がブレずに読みやすい。 また、Linux上でのC言語プログラミング、っていうだけじゃなくて、FHSとか、CPUとメモリについてまでも言及されてる。 Linuxのディレクトリ構成みたいになんとなく理解しちゃうところが説明されてるのは嬉しい。 LinuxでC言語を書くためのノウハウ 言語本ではないからC言語がどうのこうのっていう話はそこまで書いてない。 ただ、API仕様についてはしっかり書いてあるから、実際にプログラムを書くときにまた読み直したいと思った。 あと、プログラムを書くだけじゃなくてその周辺技術(manやgdb)についても述べていて、 どういうタイミングでどういう風に使ったらいいか、っていうノウハウが得られた。 プロセスとは何か プロセスについてはハードウェアと合わせて1つ章が切られていて、結構細かく説明されてる。 個人的にそうなんだって思ったのは、マルチタスクを実現する上でのCPUとメモリの扱いについて。 仮想CPU(初めて聞いた)と仮想メモリの概念とどうやって実現してるかについてはなるほどなと思った。 物理アドレスと論理アドレスっていう物自体は知っていたけど、必要性とかそういう観点で説明されているから理解しやすい。 ビルド周りの話 C言語のビルドについて、 プリプロセス コンパイル アセンブル リンク にわけて説明されてる。 コンパイルとリンクについては知ってたけどそれ以外については知らなかったし、 リンクについてはもう少ししっかり理解したいと思ってたから、この章はその理解に役立った。 スタティックリンクとダイナミックリンクの説明と、どちらを使うべきか、っていう話も載ってる。 シグナルについて プロセスを殺すとかは普段からやるけど、それをプログラム側で見た場合の話がされてる。 シグナルを送信する側の実装とか、受ける上での実装とか、さらに注意点までまとめられてるのは良かった。 ちなみに関数ポインタの存在はここで初めて知った。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/26/ordinary-linux-programming/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/25/using-display-zoom-in-mac/"><img src="http://yet.unresolved.xyz/images/osx.png" alt="Macで画面の一部をズームする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Jan 25, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/25/using-display-zoom-in-mac/">Macで画面の一部をズームする</a></h1>
        <div class="summary">Macを操作しながらプレゼンする人って、たまに画面の一部だけをズームしたりするよね。 あれどうやるのか気になってたんだけど、標準の機能で出来るっぽい。 設定画面から、 でこれ。 コントロールキー押しながらスクロールするとズームする！ Macのショートカットキーの表記が未だに慣れない。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/25/using-display-zoom-in-mac/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/25/play-slack-api/"><img src="http://yet.unresolved.xyz/images/slack.png" alt="SlackAPIで遊ぶ"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Jan 25, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/25/play-slack-api/">SlackAPIで遊ぶ</a></h1>
        <div class="summary">最近 ふつうのLinuxプログラミングを読んでます。知りたいことが書かれてて楽しい！ でもずっと本読むのは飽きるよね。なのでSlackのAPIとか触ってみる。 SlackAPIの種類 SlackのAPIはいくつか種類があるんだね、トリガになるパターンが違うのかな？ 2015年01月24日時点でのAPIをまとめてみる。 Slack Web API 指定したチャンネルの履歴とかユーザの一覧とか、Slackの情報を取得出来る。 Web APIなので、URLベースでの取得。 Real Time Messaging API Web Socketベースのリアルタイムチャット機能を提供する？ bot userがどうのこうのっていうのがよくわからない。 Slackbot Remote Control SlackBotに喋らせたり出来る。ちょうかわいい。 Incoming Webhooks 指定したチャンネルに投稿出来る。 Outgoing Webhooks 指定した単語に応じて指定したURLを叩ける。 Slash Commands 指定したスラッシュで始まる単語に応じてURLを叩けて、レスポンスがそのまま投稿される。 今回は発言のタイミングで発火するSlash Commandsを使ってみようかな！ スラッシュコマンドの追加 ここから新しくコマンドの追加が出来る。 https://my.slack.com/services/new/slash-commands herokuでさくっとHello World作って試してみようかな。 おお、出るじゃん！でもOnly you can see this messageって出てる、オレしか見れないんだね。 REPLを作ろう なんかSlack上でプログラム打つと実行結果が返ってくるみたいなやつ誰かが作ってたよね？ あれ調べても出ないんだけどなんでなんだろう。 まあとりあえず、作ったばっかのpaiza.IOのAPIを叩くあれを導入してみる。 paiza.ioのAPIを使ってreplを作る | Unresolved スラッシュコマンドAPIは/command argsって感じにやると、指定したURLにtextってパラメータ名でargsが飛ばされるみたい。 なので/repl ruby:p &quot;hello&quot;って感じで実行できるようにしようかな。 別にURL出してもいいんだけど・・・。 compojureのルーティングはこんな。 (defroutes app-routes (GET &quot;/&quot; [text] (if (empty? text) &quot;Invalid input.&quot;</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/25/play-slack-api/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/25/make-repl-using-the-paizaio/"><img src="http://yet.unresolved.xyz/images/paizaio.png" alt="paiza.IOのAPIを使ってreplを作る"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Jan 25, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/25/make-repl-using-the-paizaio/">paiza.IOのAPIを使ってreplを作る</a></h1>
        <div class="summary">paizaが面白いAPIを公開してたから、そのうち使ってみたいと思ってたんだよね。 ブラウザでプログラミング・実行ができる「オンライン実行環境」| paiza.IO ちょっとSlackAPIで使ってみたいからこの機会に軽くだけ触ってみる。 何が出来る？ たくさんの言語のREPLが使える！すごい！ ただ、コンパイル言語はそんな気軽に使える感じではないみたい。 例えばJavaで言えば、System.out.println(&quot;Hello&quot;);だけじゃなくてクラス定義から含めなきゃいけないみたいに。 どうやって使う？ どうやらSwaggerっていうOSSを使ってるみたい。 paiza.IO上でのデモも使える。 Swagger UI なんか動かないなと思ったらhttpsでhttpのリソースを参照してたみたいで、ブロックされてた。 Mixed Content: The page at 'https://api.paiza.io/docs/swagger/#!/runners/' was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint 'http://api.paiza.io/docs/swagger-docs/runners.json?api_key=guest'. This request has been blocked; the content must be served over HTTPS. 評価パターンは3つあるみたい。 runners/create コードの実行が出来る。 レスポンスにidとstatusが返ってきて、このidを使って実行結果とかを見る。 runners/get_status 実行結果を見ることが出来る。 completedとかそういうレベル。 runners/get_details 実行結果として出力された値とかを見ることが出来る。 runners/createで実行してrunners/get_detailsで結果を見る感じ。 Clojureから叩こう 使い方はわかったしURL叩けば済む話だしさっさと作っちゃう。 HTTPアクセスはJavaのクラスを使おうかなと思ったけど、dakrone/clj-httpっていうすごく優秀！なライブラリがあったのでこれを使います。 まずrunners/createを実行するところ。 (defn repl [language source] (let [run-id (-&gt; (httpc/post &quot;http://api.paiza.io/runners/create&quot; {:form-params {:source_code source :language</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/25/make-repl-using-the-paizaio/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/22/install-postgresql-on-centos/"><img src="http://yet.unresolved.xyz/images/vagrant.png" alt="Vagrant &#43; CentOS &#43; PostgreSQLを最速で構築"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Thu, Jan 22, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/22/install-postgresql-on-centos/">Vagrant &#43; CentOS &#43; PostgreSQLを最速で構築</a></h1>
        <div class="summary">herokuにのっけるアプリを作るとき、ローカルではSQLite使ってたんだけどもう色々つらい。 なんか整数で定義したカラムに文字列入るし！ なんかオートインクリメントの設定の仕方がPostgreSQLと違うし！ つらい。 なのでもう、さっとPostgreSQLだけ入った仮想環境を作ってホスト側から繋げるようにしたい。 Vagrantfileの設定 もう面倒なのはいやなのでCentOSとIPの設定だけやるよ。 # -*- mode: ruby -*- # vi: set ft=ruby : VAGRANTFILE_API_VERSION = &quot;2&quot; Vagrant.configure(VAGRANTFILE_API_VERSION) do |config| config.vm.box = &quot;chef/centos-6.5&quot; config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.10&quot; end PostgreSQLの導入 [vagrant@localhost ~]$ sudo yum install postgresql [vagrant@localhost ~]$ sudo yum install postgresql-server [vagrant@localhost ~]$ sudo yum install postgresql-contrib さくっと入るやん！ どうやって繋ぐのかな もうほんとPostgreSQLの使い方がわかんない、MySQLばっか触ってたからわかんない。 そもそもサービス名はなによ。 [vagrant@localhost ~]$ service postgresql Usage: /etc/init.d/postgresql {start|stop|status|restart|condrestart|try-restart|reload|force-reload|initdb} [vagrant@localhost ~]$ service postgresql status postmaster is stopped [vagrant@localhost ~]$ sudo service postgresql start /var/lib/pgsql/data is missing.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/22/install-postgresql-on-centos/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/15/challenged-to-online-hackathon-of-paiza/"><img src="http://yet.unresolved.xyz/images/clojure.png" alt="Clojureで新卒の女の子を射止めた話"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Thu, Jan 15, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/15/challenged-to-online-hackathon-of-paiza/">Clojureで新卒の女の子を射止めた話</a></h1>
        <div class="summary">何やらプログラムの問題を解くと可愛い女の子とハネムーンにいけるとかいう企画をpaizaが開催していたらしい。 マンガ版「エンジニアでも恋がしたい！」〜転職初日にぶつかった女の子が同僚だった件〜｜paizaオンラインハッカソン4 Lite 会社の子からすすめられたのをずっと放置してたんだけど実際やってみたらなかなか面白かった。 ちなみに実際に手に入るのはハネムーンじゃなくてねるねるねるねかラズパイだったらしい。 ねるねるねるね・・・。 Problem 1 在庫計算プログラムを作成してください。改行区切りで N 個の商品の各在庫数 S が入力されるので、その合計を出力して下さい。 解答次第でこの後のストーリーが変わります！！ 入力される値 入力は標準入力にて以下のフォーマットで与えられます。 N S_1 S_2 ・ ・ S_N 条件 すべてのテストケースにおいて、以下の条件をみたします。 1 ≦ N ≦ 100 0 ≦ S_i ≦ 100 期待する出力 全ての商品の在庫数を足した数を出力してください。最後は改行し、余計な文字、空行を含んではいけません。 ふむふむ。 ちなみにpaizaで使えるClojureのREPLはベータ版とのことで、変な挙動をするかも〜とのこと。 入力の受け方はこんな感じ。 (def in (line-seq (java.io.BufferedReader. *in*))) オレの回答はこんな感じ。 (def in (line-seq (java.io.BufferedReader. *in*))) (defn p1 [] (reduce + (map #(Integer/parseInt %) (rest in)))) (print (p1)) 普通にreduceで回しただけ。 Problem 2 改行区切りで N 個の各商品の在庫数 S が入力されるので、その合計を出力して下さい。 入力される値 入力は以下のフォーマットで与えられる。 N T_1 S_1 P_1 T_2 S_2 P_2 ・ ・ ・ T_N S_N P_N 条件 すべてのテストケースにおいて、以下の条件をみたします。 1 ≦ N ≦ 100 1 ≦ T_i ≦ 100 0 ≦ S_i ≦ 100 1 ≦ P_i ≦ 10,000 期待する出力 在庫数を最低限必要な在庫数を満たすために必要な金額の合計を出力してください。 最後は改行し、余計な文字、空行を含んではいけません。 問題文をよく読まずに解いて何度かミスりました。 (def in (line-seq (java.io.BufferedReader.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/15/challenged-to-online-hackathon-of-paiza/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/14/use-template-engine-in-clojure/"><img src="http://yet.unresolved.xyz/images/clojure.png" alt="Clojureのテンプレートエンジンについて"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Wed, Jan 14, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/14/use-template-engine-in-clojure/">Clojureのテンプレートエンジンについて</a></h1>
        <div class="summary">練習のためにClojureでいくつかのWebアプリを作ってみたんだけど、どの言語でもなんだかんだ手間になるテンプレートの扱いについてまとめてみる。 Enlive Clojure Programmingを執筆されたChristophe Grand氏のライブラリ。 CSSのセレクタでバインドを行うという、すごく画期的な方法でテンプレート機能を実現させてる。 例えばこんな感じでテンプレートのHTMLがあれば、 &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;title&gt;This is a title placeholder&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; こうやってバインドできる。 (html/deftemplate main-template &quot;templates/application.html&quot; [] [:head :title] (html/content &quot;Enlive starter kit&quot;)) HTLMが素でかけるから、デザイナさんとの協業がすごく捗りそう。 サンプルのHTMLをそのまま使って、Clojure側でサンプルの値を置き換えたりリピートさせたりすれば済んじゃう。 今回は一人で使ったからそういう場面はなかったけど、サーバを起動しなくてもデザインが見れる &amp; 直せるっていうのは便利な場面があるかなあと。 ただ、結構CSSを書いたりしてるほうだけど、バインドの学習コストは意外と高いなと思った。 効率的に手早くバインドさせるには、Enliveを使う想定のHTML構造にする必要がありそうな印象だった。 覚えてしまえばものすごく活躍しそう。 Hiccup CompojureやEnviron、Ringなどの作者、James Reeves氏のライブラリ。 HTMLを完全にClojureでラップしてるので、ClojureだけでWebアプリを完結させられる。 こんな感じ。 user=&gt; (html [:script]) &quot;&lt;script&gt;&lt;/script&gt;&quot; user=&gt; (html [:p]) &quot;&lt;p /&gt;&quot; Clojureのコンパイルが走るので、タグの不整合(閉じタグがないとか)が一切起こらないっていうのは魅力だと思う。 欠点を挙げるとすれば、改行なしでHTMLが出力されるからブラウザからソースを見るのが厳しい。ていうか無理。 設定でなんとか出来るんだろうか？ でもChromeの開発者ツールとか使えばフォーマットして表示してくれるし、全然クリティカルな問題じゃない。 もう1点は、例えば広告のスクリプトみたいにコピペで貼り付けたい文字列とかの出力がちょっとめんどう。 Hiccupの世界にただのタグを入れるのは見栄えも悪いし、オレはこんな感じで外だしすることで対応した。 (def partial-ad-big (str &quot;&lt;script async src=&quot;&quot;//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;&quot;&gt;&lt;/script&gt; &lt;ins class=&quot;&quot;adsbygoogle&quot;&quot; style=&quot;&quot;display:inline-block;width:728px;height:90px&quot;&quot; data-ad-client=&quot;&quot;ca-pub-421xxxxxxxxxx76&quot;&quot;</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/14/use-template-engine-in-clojure/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/12/use-the-third-party-library-in-python-on-gae/"><img src="http://yet.unresolved.xyz/images/python.png" alt="Python on GAEで3rdパーティライブラリを使う"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Mon, Jan 12, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/12/use-the-third-party-library-in-python-on-gae/">Python on GAEで3rdパーティライブラリを使う</a></h1>
        <div class="summary">ひさびさにGoogle App Engineを使おうとしたらGoogle Cloud Platformだかなんだかでいろいろと変わってて戸惑った。 何かっていうと3rd Partyのライブラリを使うときにどうやるんだっけなっていうこと。 昔はrequirements.txtでうまいことやってくれなかったけ？違う？ 普通にBeautifulSoupとか使った気するんだけど、どうやってたんだろうか・・・。 標準で使えるライブラリ Google App Engine側に導入されてるライブラリがこれ。 Third-party Libraries in Python 2.7 - Python — Google Cloud Platform 基本的なやつとかWAFで使うやつしか入ってないみたい。 載ってないやつは使えない？ そんなことはない。 How to include third party Python libraries in Google App Engine? - Stack Overflow でもずいぶん原始的な方法で、libディレクトリを作ってそこに入れなよって見解らしい。 default git:(master)$ tree -L 2 . |-- CONTRIB.md |-- LICENSE |-- README.md |-- app.yaml |-- cron.yaml |-- favicon.ico |-- lib | |-- feedparser.egg-info | |-- feedparser.py | |--</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/12/use-the-third-party-library-in-python-on-gae/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/07/how-to-use-multibyte-title-in-hugo/"><img src="http://yet.unresolved.xyz/images/hugo.png" alt="Hugoでマルチバイトのタイトルをスマートに使う方法"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Wed, Jan 7, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/07/how-to-use-multibyte-title-in-hugo/">Hugoでマルチバイトのタイトルをスマートに使う方法</a></h1>
        <div class="summary">Hugoでちょっと困ったこと。 オレはOctopressから移行してきたからなおさらなんだけど、記事のタイトルがURLにされてしまう。 あ、オレはconfig.yamlに permalinks: post: /blog/:year/:month/:day/:title/ を設定してるからなんだけど。 そうすると日本語とかのマルチバイト文字を使うとパーセントエンコードが走って結構悲惨なことになる。 というかオレの環境だとリンクがきちんと飛べなかった・・・。 Octopressは記事のファイル名がURLになってたから、ファイル名さえ英語なら問題なかったんだよね。 なので今回やった対処法をメモっとく。 URLの構成と対応策 実は移行の時にちょっと手を加えたりしてたんだけど、あんまり綺麗な方法じゃなかったので納得が行ってなかった。 そんな時に公式を読んでたら、Content Organizationの項にこんな図が。 どうやらオレが困ってたURLのタイトル部はslugと呼ばれる部分らしい。 ならこんな風に記事内で毎回指定してしまえば綺麗に話が済むのではないか？ --- tags: [&quot;hugo&quot;, &quot;golang&quot;] comments: true date: 2015-01-07T23:56:32+09:00 eyecatch: &quot;hugo.png&quot; slug: &quot;how-to-use-multibyte-title-in-hugo&quot; title: &quot;Hugoでマルチバイトのタイトルをスマートに使う方法&quot; --- と思ったらうまくいった。 config.yamlはこんな感じ。 permalinks: post: /blog/:year/:month/:day/:slug/ なのでOctopressから移行した人はこの方法も検討するといいかもしれません。 hugo newした時に生成されるテンプレートはarchetypesディレクトリに配置出来るから、そこでやっておくとよし。 しかし移行時に書き足すのが面倒なんだよなあ。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/07/how-to-use-multibyte-title-in-hugo/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2015/01/04/migrate-blog-to-hugo-from-octopress/"><img src="http://yet.unresolved.xyz/images/hugo.png" alt="ブログをOctopressからHugoに移行した"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Jan 4, 2015</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2015/01/04/migrate-blog-to-hugo-from-octopress/">ブログをOctopressからHugoに移行した</a></h1>
        <div class="summary">Octopressでのブログもずいぶん慣れてきたところでHugoに移行しました。 一晩徹夜して、カスタマイズからGitHub Pagesでの公開までいけたのでいろいろまとめてみる。 なぜ移行？ ずっとテーマのカスタマイズをしたいと思ってたんだけど、Octopressのテーマの構成がいつまでたっても理解出来なかったのが一番の理由。 テーマというか、テンプレートの構成かな・・・。 Google Adsenseとかも導入したんだけど、そんな些細な修正ですらちょっと辛い感じになってしまってたので、いっそ土台ごと変えることに。 Hugoに移行するメリット せっかくだし移行してみてよかったことをまとめてみます。 とにかくスピーディ 何をするにも動作がめちゃくちゃ速い。 記事数がそんなに多くないからOctopressでも不満はなかったんだけど、今考えればとてつもない遅さだったなあと思う。 Hugoはほんとに一瞬で記事を生成するし、サーバの起動も一瞬なのでライブリロードがいらないくらい。使ってるけど笑 HugoはGolangで出来てるそうで、それが要因なのかはわからないけど、これまで触ってきた開発用サーバの中でも類を見ない速さで作業ができます。 構造がシンプル トップページ、記事一覧、記事個別のページ、って感じで綺麗に区分けがされてる。 テーマがいくつかあるんだけど、どれも必要のないネストとかしてないし、そこからカスタマイズがしやすい。 あと、カテゴリとかタグみたいに、記事間を横断的に集計したい場合もすごく簡単に出来る。 すごく簡単すぎてどうなってるのかわからなくなることがあるけど笑 Taxonomy Overview 無駄な物がない Hugoはnewで作った時に基礎になるテンプレートがないくらい、標準装備が少ない。 まあそれじゃテスト実行さえ出来ないからどうなんだっていう人もいると思うけど笑 オレは結構0から作りたい方なので、これくらいすっきりさせてくれてたほうが嬉しかった。 移行によるデメリット とはいえ全てがよかったわけではなくて、途中で何度か引き返そうと思う場面もあったので、そこも書いとく。 自分でやらなきゃいけないことが多い やっぱりOctopressはRakeタスクでかなり囲い込みが出来てたなあと思う。 OctopressをGitHub Pagesで公開する場合、masterとsourceブランチが作成されるんだけど、あれは運用面でも非常に楽だったなあと思う。 Hugoはデプロイは一切触れずに、本当に静的な資材の生成しかしないから、その辺は自分でやらなきゃいけない。 だから初めての人には辛いところがあるかも。 あ、あとDISQUSとかもテーマによってはIDを指定するだけで使えたり、自分でタグを埋め込まなきゃ使えなかったりする。 記事のカテゴリ分けとかタグ付けについても自分で設定しなきゃいけない。公式に手順はあるけど。 もちろんSNSのリンクも自分で配置。 日本語タイトルが使いづらい Octopressの時は、記事のMarkdownファイルのファイル名は英語にして、ファイル内のtitleで日本語を設定してました。 Hugoはファイル内のtitleで記事個別ページのURLを生成するから、マルチバイトが入るといろいろ面倒なことになっちゃった。 あと、これまでのSEOをゼロにしたくないからURLは変えたくなくて、やっぱりURLでは英語のタイトルを使いたい。 これはもうどうしょうもなくて、ファイル内に英語タイトルと日本語タイトルを設定出来るようにした。 シェルで一括操作出来るような内容でもないので、ここは手作業。 テーマが少ない あるものでなんとかしたい、って人には深刻かと笑 ブログ自体に注力せずに記事を書くことに注力したい、って人はOctopressかHexoかそもそもHatenaとかの方がいいのかもしれない。 移行において 記事の移行と、なるべく移行前と移行後でブログを書く作業が変わらないように工夫した点をまとめる。 日付フォーマットの変更 Octopressと違ってHugoでは日付のフォーマットを date: &quot;2013-10-27&quot; こんな感じにしなきゃいけないので、先人の知恵を使って置換する。 $ find . -type f -exec sed -i &quot;&quot; -e 's/\([0-9]\+-[0-9]\+-[0-9]\+\).*$/&quot;\1&quot;/' {} \; 画像タグの変更 Octopressではこう書いてたけど [{% img /images/2015-01-01/beanstalkDockerApp.png 'beanstalkDockerApp' 'beanstalkDockerApp' %}](/images/2015-01-01/beanstalkDockerApp.png) Hugoでは画像タグHTMLベタにするので、 $ find .</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2015/01/04/migrate-blog-to-hugo-from-octopress/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/12/31/clojure-on-docker-and-aws-beanstalk/"><img src="http://yet.unresolved.xyz/images/aws.png" alt="ClojureのWebアプリをDocker &#43; Beanstalkで動かす"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Wed, Dec 31, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/12/31/clojure-on-docker-and-aws-beanstalk/">ClojureのWebアプリをDocker &#43; Beanstalkで動かす</a></h1>
        <div class="summary">たぶんこういうのはドキュメント読んでもわからないので、とにかく一通りの流れを実践してみる。 Imageの取得 面倒なのでDocker HubからClojureが動く環境を持ってくる。 オフィシャルリポジトリとやらがあったので、それを使います。 Leiningenとか一式が入ってるみたい。 clojure ローカルでの動作確認 とりあえず世界に挨拶が出来るくらいのWebアプリを作っちゃおう。 アプリ自体は重要じゃないので、とりあえずインタラクティブシェル上でちゃちゃっと作っちゃう。 b2d$ docker run -i -t clojure /bin/bash root@e322a11f087d:/home# lein new compojure aws_webapp Retrieving compojure/lein-template/0.4.1/lein-template-0.4.1.pom from clojars Retrieving compojure/lein-template/0.4.1/lein-template-0.4.1.jar from clojars root@e322a11f087d:/home# ls aws_webapp root@e322a11f087d:/home# cd aws_webapp/ root@e322a11f087d:/home/aws_webapp# ls README.md project.clj resources src test と思ったらcompojureテンプレート自体がすでにHello Worldを実装してた・・・。 そのままサーバ起動しちゃうとこんな感じでブラウザの自動起動のとこでエラーしちゃうので、lein ring server-headlessで起動する。 root@e322a11f087d:/home/aws_webapp# lein ring server 2015-01-01 05:41:35.432:INFO:oejs.Server:jetty-7.6.8.v20121106 2015-01-01 05:41:35.486:INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:3000 Started server on port 3000 Exception in thread &quot;main&quot; java.lang.InternalError: Can't connect to X11 window server using 'localhost:0.0' as the value of the DISPLAY variable., compiling:(/tmp/form-init3570254627486988046.clj:1:72) あとはデーモンとして起動しちゃえばローカルでの確認が出来る。 b2d$ docker run -d -t -p 3000:3000 clojure:aws /bin/bash -c &quot;cd /home/aws_webapp; lein ring server-headless&quot; e9981a71589918791d52888a0cb503bea133611395be58574047cd498c9e6f76 b2d$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e9981a715899 clojure:aws &quot;/bin/bash -c 'cd /h 4 seconds ago Up 3 seconds 0.0.0.0:3000-&gt;3000/tcp backstabbing_colden 起動しているのはboot2dockerの仮想マシン上なので、 b2d$ boot2docker ip 192.168.59.103 このIPの3000ポートに向けてアクセスすれば、 見れます。 ringのサーバは起動が遅いのでdocker logs [names]で確認しながらやるとよい。 Elastic Beanstalkで動かす 大事なことに気づいたんだけど、BeanstalkはDockerfileとか必要なファイル一式をまとめたzipをアップするらしい。 そもそもソースもイメージに入れちゃうっていうのは考えとしておかしかったね。 なのでwarをADDで置くのが理想的なのかな。 今回は面倒なので、clojureでWebサーバを立ち上げられるhttp-kitというライブラリを使ってやってみます。 ちょうどBeanstalk用のDockerfileとかも用意してくれるmrmcc3/beanstalk-docker-appというテンプレートがあったので、これを使わせてもらうことに。 mrmcc3/beanstalk-docker-appでWebアプリを構築する 何はともあれnewして作り直し。 temp$ lein new beanstalk-docker-app superapp Generating clojure app for AWS Beanstalk and docker こんな感じで作られる。 jarとかはlein uberjarで作らなきゃダメかも。 .</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/12/31/clojure-on-docker-and-aws-beanstalk/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/12/30/could-not-run-docker-in-mac/"><img src="http://yet.unresolved.xyz/images/docker.png" alt="boot2dockerでCannot connect to the Docker daemon"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Tue, Dec 30, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/12/30/could-not-run-docker-in-mac/">boot2dockerでCannot connect to the Docker daemon</a></h1>
        <div class="summary">これまでは普通に手で作ったVMのUbuntu上でDockerを触ってたんだけど、なんかあれだしboot2dockerに移行しようかと。 いろいろやってみようとしたら導入から結構躓いた。 boot2dockerの導入 Installing Docker on Mac OS Xに沿って導入してみる。 あ、本体はインストーラじゃなくてbrew install boot2dockerで導入してます。 b2d$ boot2docker init 2014/12/29 22:59:08 Downloading boot2docker ISO image... 2014/12/29 22:59:09 Latest release is v1.4.1 2014/12/29 23:00:17 Success: downloaded https://github.com/boot2docker/boot2docker/releases/download/v1.4.1/boot2docker.iso to /Users/DaisukeTsuji/.boot2docker/boot2docker.iso Generating public/private rsa key pair. Your identification has been saved in /Users/DaisukeTsuji/.ssh/id_boot2docker. Your public key has been saved in /Users/DaisukeTsuji/.ssh/id_boot2docker.pub. The key fingerprint is: 36:99:81:cf:0b:bd:77:3b:30:9d:66:70:ad:90:ac:35 DaisukeTsuji@DaisukeTsujis-MacBook-Air.local The key's randomart image is: +--[ RSA 2048]----+ | | | .</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/12/30/could-not-run-docker-in-mac/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/12/21/does-not-work-lobos-in-heroku/"><img src="http://yet.unresolved.xyz/images/clojure.png" alt="Lobosでマイグレーションができない in Heroku"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Dec 21, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/12/21/does-not-work-lobos-in-heroku/">Lobosでマイグレーションができない in Heroku</a></h1>
        <div class="summary">ClojureのWebアプリがとりあえず動くところまで行ったんだけど、Herokuにのせようとしたら詰まった。 何が起きたか 今だにHerokuの使い方がようわからんのだけど、 とりあえずローカルから向き先変えるよりもSSHの方がいっかなってことでheroku run bashしてやってます。 ローカルからだとDBをSSLで接続させないといけないし・・・。 んでマイグレーションしようとしたら、 user=&gt; (migrate) nil 何も出ない。 本当はこんな感じで、 user=&gt; (migrate) add-sites-table add-entries-table nil 作成されたり変更されたテーブルが出てくるはず。 原因はなんだったのか lobos.migrationsが読まれてない（というかリロードされてない）っぽい。 そもそもmigrate自体はこんな感じでlobos.migrationのdo-migrationsを呼んでます。 (defcommand migrate [&amp; names] (let [names (if (empty? names) (mig/pending-migrations db-spec sname) names)] (mig/do-migrations db-spec sname :up names))) で、do-migrationsはこんな感じで、list-migrations-namesの結果を絞って実行してる。 たぶんマイグレーション済みのものは除外とかそんな感じなんじゃないだろうか。 (defn do-migrations [db-spec sname with names &amp; [silent]] (let [filter-migs #(only % (list-migrations-names)) migrations (-&gt;&gt; names (map str) filter-migs (when-&gt;&gt; (= with :down) reverse) (map symbol) (map (partial ns-resolve *migrations-namespace*)) (map var-get))] (binding [*record* nil] (doseq [migration migrations] (let [name (-&gt; migration meta :name)] (when-not silent (println name)) (if (= with :up) (do (up migration) (insert-migrations db-spec sname name)) (do (down migration) (delete-migrations db-spec sname name)))))))) でlist-migrations-namesの定義がこれ、list-migrationsを呼んでる。 (defn list-migrations-names [] (map #(-&gt; % meta :name str) (list-migrations))) (defn list-migrations [] (if *reload-migrations* (when (.exists (migrations-file)) (swap!</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/12/21/does-not-work-lobos-in-heroku/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/12/11/usage-for-lobos-migration/"><img src="http://yet.unresolved.xyz/images/clojure.png" alt="Lobosを使ってマイグレーションをする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Thu, Dec 11, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/12/11/usage-for-lobos-migration/">Lobosを使ってマイグレーションをする</a></h1>
        <div class="summary">1年前くらいには、SQLまで隠蔽するORMとか嫌い！テーブルの自動生成やだ！とか言ってたのに、いつの間にかスキーマ操作なんてフレームワークがやるものだよね、って考えになってしまったよ・・・。 というわけでClojureを使ってWeb開発をする際も使いたいので、Lobosというスキーマのマニュピレーション、マイグレーションツールを使ってみます。 インストール 本体はここbudu/lobos。 project.cljに :dependencies [[lobos &quot;1.0.0-beta3&quot;]] を追加してlein depsするだけでおーけー。 Leiningenのプラグインとして使えるpupeno/lein-lobosってのもあるようだ。 こっちも使う場合は、ploject.cljに :plugins [lein-lobos &quot;1.0.0-beta1&quot;] を追加。 全体を載っけるとこんな感じに。 (defproject tpc &quot;0.1.0-SNAPSHOT&quot; :description &quot;FIXME: write description&quot; :url &quot;http://example.com/FIXME&quot; :min-lein-version &quot;2.0.0&quot; :dependencies [[org.clojure/clojure &quot;1.6.0&quot;] [compojure &quot;1.2.0&quot;] [ring/ring-defaults &quot;0.1.2&quot;] [enlive &quot;1.1.5&quot;] [korma &quot;0.4.0&quot;] [postgresql &quot;9.1-901.jdbc4&quot;] [lobos &quot;1.0.0-beta3&quot;]] :plugins [[lein-ring &quot;0.8.13&quot;] [lein-haml-sass &quot;0.2.7-SNAPSHOT&quot;] [lein-lobos &quot;1.0.0-beta1&quot;]] :ring {:handler tpc.core.handler/app} :profiles {:dev {:dependencies [[javax.servlet/servlet-api &quot;2.5&quot;] [ring-mock &quot;0.1.5&quot;] [org.xerial/sqlite-jdbc &quot;3.6.16&quot;]]}} :scss {:src &quot;resources/scss&quot; :output-directory &quot;resources/public/css&quot; :output-extension &quot;css&quot;}) テーブル定義をしてみる 今回はSQLiteにて実施。 srcディレクトリ直下にlobosってディレクトリを作成して、その中にいろいろな設定を突っ込む必要があるらしい。 このディレクトリの名前は変えてもいいみたいだけど面倒になりそうだからこのままで。 まずは接続情報を記載するsrc/lobos/config.clj。 (ns lobos.config (:use lobos.connectivity)) (def db_dev {:classname &quot;org.sqlite.JDBC&quot; :subprotocol &quot;sqlite&quot; :subname &quot;./dev.sqlite3&quot;}) (open-global db_dev) 次にスキーマ操作で使われている(と思われる)ヘルパー、src/lobos/helpers.cljを定義。 (ns lobos.helpers (:refer-clojure :exclude [bigint boolean char double float time]) (:use (lobos schema))) (defn surrogate-key [table] (integer table :id :auto-inc :primary-key)) (defn timestamps [table] (-&gt; table (timestamp :updated_on) (timestamp :created_on (default (now))))) (defn refer-to [table ptable] (let [cname (-&gt; (-&gt;&gt; ptable name butlast (apply str)) (str &quot;_id&quot;) keyword)] (integer table cname [:refer ptable :id :on-delete :set-null]))) (defmacro tbl [name &amp; elements] `(-&gt; (table ~name) (timestamps) ~@(reverse elements) (surrogate-key))) で、目的のマイグレーション定義をsrc/lobos/migrations.cljに。 (ns lobos.migrations (:refer-clojure :exclude [alter drop bigint boolean char double float time]) (:use (lobos [migration :only [defmigration]] core schema config helpers))) (defmigration add-sites-table (up [] (create (tbl :sites (varchar :name 255) (varchar :url 255) (varchar :rss 255) (varchar :image 255) (integer :cat) ))) (down [] (drop (table :sites)))) マイグレーションの実行 ここが結構厄介だった。 というか、出来たといえば出来たんだけど、もっと正しい方法があるような気が・・・。 REPLにて以下を実行。 WARNINGは多分すでに存在するシンボルを置き換えてしまってることの警告だからとりあえず無視。 tpc git:(master)$ lein repl (use '(lobos connectivity core schema))nREPL server started on port 50092 on host 127.0.0.1 - nrepl://127.0.0.1:50092 REPL-y 0.3.1 Clojure 1.6.0 Docs: (doc function-name-here) (find-doc &quot;part-of-name-here&quot;) Source: (source function-name-here) Javadoc: (javadoc java-object-or-class-here) Exit: Control+D or (exit) or (quit) Results: Stored in vars *1, *2, *3, an exception in *e user=&gt; (use '(lobos connectivity core schema)) WARNING: alter already refers to: #'clojure.core/alter in namespace: user, being replaced by: #'lobos.core/alter WARNING: drop already refers to: #'clojure.core/drop in namespace: user, being replaced by: #'lobos.core/drop WARNING: boolean already refers to: #'clojure.core/boolean in namespace: user, being replaced by: #'lobos.schema/boolean WARNING: char already refers to: #'clojure.core/char in namespace: user, being replaced by: #'lobos.schema/char WARNING: double already refers to: #'clojure.core/double in namespace: user, being replaced by: #'lobos.schema/double WARNING: bigint already refers to: #'clojure.core/bigint in namespace: user, being replaced by: #'lobos.schema/bigint WARNING: float already refers to: #'clojure.core/float in namespace: user, being replaced by: #'lobos.schema/float WARNING: time already refers to: #'clojure.core/time in namespace: user, being replaced by: #'lobos.schema/time nil user=&gt; (require 'lobos.migrations) nil user=&gt; (migrate) add-sites-table nil user=&gt; 確認してみましょう。 tpc git:(master)$ sqlite3 dev.sqlite3 SQLite version 3.8.5 2014-08-15 22:37:57 Enter &quot;.help&quot; for usage hints.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/12/11/usage-for-lobos-migration/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/12/09/automatically-compile-the-scss-in-leiningen/"><img src="http://yet.unresolved.xyz/images/clojure.png" alt="LeiningenでSCSSを自動コンパイルする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Tue, Dec 9, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/12/09/automatically-compile-the-scss-in-leiningen/">LeiningenでSCSSを自動コンパイルする</a></h1>
        <div class="summary">Clojureを始めて一週間ほどになりまして。 ようやくWebアプリ開発に着手しました。 というわけで開発環境を整えます。 lein-haml-sassの導入 まったく贅沢な名前してんな！ いえ、lein-haml-sassは素晴らしいプラグインです。 これを使うとなんとhamlのコンパイルやsass/scssのコンパイルをやってくれます。 ていうかsassとscssの違いってなんだっけ？真面目に考えるとわかんないな。 CSSコーディングで泣かないためのSassの基礎知識と10の利点 (1&frasl;3) へえ・・・。 とりあえず導入します。 project.cljに (defproject example &quot;1.2.3&quot; :plugins [[lein-haml-sass &quot;0.2.7-SNAPSHOT&quot;]]) さらに設定も記述。 resources/sass/にscssを、resources/public/css/にcssを出力する設定。 (defproject example-project &quot;1.2.3&quot; :haml {:src &quot;resources/haml&quot; :output-directory &quot;resources/public/html&quot; } :sass {:src &quot;resources/sass&quot; :output-directory &quot;resources/public/css&quot; } :scss {:src &quot;resources/scss&quot; :output-directory &quot;resources/public/css&quot; } ) ここまではコピペだけど、オレのファイル自体はこんな感じに。 (defproject tpc &quot;0.1.0-SNAPSHOT&quot; :description &quot;FIXME: write description&quot; :url &quot;http://example.com/FIXME&quot; :min-lein-version &quot;2.0.0&quot; :dependencies [[org.clojure/clojure &quot;1.6.0&quot;] [compojure &quot;1.2.0&quot;] [ring/ring-defaults &quot;0.1.2&quot;] [enlive &quot;1.1.5&quot;]] :plugins [[lein-ring &quot;0.8.13&quot;] [lein-haml-sass &quot;0.2.7-SNAPSHOT&quot;]] :ring</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/12/09/automatically-compile-the-scss-in-leiningen/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/12/02/went-to-startup-weekend-yokohama-2nd/"><img src="http://yet.unresolved.xyz/images/nopicture.png" alt="no_picture"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Tue, Dec 2, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/12/02/went-to-startup-weekend-yokohama-2nd/">HackerにとってのStartup Weekend</a></h1>
        <div class="summary">この2週間で、Startup Weekend YokohamaとStartup Weekend Tokyoに参加してきました。 まさかの2週連続の強化合宿！ 様々な経験になったのは確かなので、自分のためにも、今後行く人のためにもまとめてみようと思います。 色々な人が体験談を書いてるから、オレはHackerとしての目線で書こうかな。 Startup Weekend? スタートアップウィークエンド（SW）とは、あたらしいなにかをつくりだす「スタートアップ体験イベント」です。週末だけであなたは、アイディアをカタチにするための方法論を学び、スタートアップをリアルに経験することができます。 SWは金曜の夜、みんながアイディアを発表するピッチから始まります。そしてハスラー・ハッカー・デザイナーでチームを組み、日曜の午後までに、ユーザーエクスペリエンスに沿った必要最小限のビジネスモデルを一気に作り上げます。ハスラーはマネジメントと顧客開発を、ハッカーは機能の開発を、デザイナーは使いやすいデザインを担当します。 どこのブログにも書いてあるんだけど一応。 金曜日の夜から始まって、「こんなもの作りたい」って人とそれに共感した人でチームを作って、日曜夜までの3日間で手や足を動かすイベントです。 ピッチ 金曜日の夜に、アイデアがある人は1分間で発表をします。 オレは、初参加となったYokohamaではしなかった。 様子見したかったのと特にアイデアがなかったので。 あとたぶん、Hackerは「自分で作れるし言いたくない」って人も多いんじゃないかなあ。 Tokyoではピッチしたんだけど、正直言いたくないな、って気持ちも結構あった。 だからピッチは正直そんな重要なことでもない。 後悔するよ、って言う人もいるけど、しなかった回とした回があるオレからすれば、どっちでも良かったかな。 3日間で何をするのか ビジネスモデルを考えて、アンケートを取ったりしてニーズがあるのかを検証して、ティザーサイトやらを作って集客をしてみたり、いっそ本当に動くサービスを作ってみたり。 そのチームのビジネスモデルによってまちまち。 Yokohamaはアイデア自体が結構壮大なものだったので、動くサービスは作れなかった。 ティザーサイトどまりだったからちょっと不完全燃焼だったかな。マークアップは楽しかったけど。 Tokyoは動くものを作ったけど、ビジネスモデルが固まりきらなかったのとWebだけでは完結しない話だったから、作りきったって感じは無かった。 アイデアによってやることは違うから、自分のやりたいことが明確にあるのであれば、それが出来そうなチームに入るのは大事な選択だと思う。 でも、オレはどんなメンバーとやるのか、ってことの方が大事なのかなとも思った。 YokohamaもTokyoもすごくいいメンバーに恵まれました。 だから目標の1つは確実に達成出来た。 参加する前にやったこと Yokohamaが初参加で、何をするのかもよくわかってなかったからとりあえずHackerらしい予習はした。 どうせRailsなんだろと思ってたし、チュートリアルをざーっと読んでRailsが少し好きになった。 実際には使わなかったし、やっぱりあんまり好きじゃねーなって思ったけど笑 Tokyoの時は特に何かしておかなきゃってのは考えてなかったんだけど、ちょうど興味本位で調べてたFacebook認証でのログインと設計が役に立った。 どんなDB設計すんだろうなーとか、そういう話。 まあ、特にやっておくべきことはなかった。少しでもインフラを知っておくと強いかな。どうせティザーか本番は作るし。 このイベントで何がしたかったのか やりたかったことは2個。 なんかプロダクトを作りたかった、知らない人と話したかった。 これまでエセSIみたいなことをやって、転職を経てB2Cの仕事をして、この少ない経験値をなんとかしたいなって気持ちがあった。 もう25歳だし、技術者としてそろそろ独学を離れるべきだと思っていたし、いろいろな価値観だとかノウハウに触れていかなきゃいけないっていう焦りもあったんだと思う。 起業がしたいのか 別にしたくない。 どっちでもいいとかじゃなくて、したくない。忙しそうだし。 でも、したいって人の価値観にも触れてみたかったし、そういう話に乗っかりたい気持ちはあった。 一緒にやる仲間が欲しかったのかも。 技術者ってどこでも生きていけると思っていて、それなら大きな会社にいるのもよし、なんかスリルのある会社にいるのもよしだと思う。 それこそ、起業とか。 Hackerとして参加するメリット どうやらタダ働きになるからやだ、っていう人もいるらしい。 まあ確かにそうだけど・・・ていうか逆にお金払ってるけど・・・。 でもメリットは結構あるよ。 知らない誰かと1つのことをやる 誰かと一緒にものを作るっていうのは結構楽しいことだと思う。 それこそ他のエンジニアとかじゃなくて、そもそも技術とかわかんない人とか、マーケティングの人とか。 普段からデザイナや企画と調整して仕事してるよ、って人ももちろん居ると思う。オレもそうだし。 でもStartup Weekendはもっと距離が近いし、みんなが真剣になって、それぞれの出来ることを発揮して1個のものに取り組むのって、なんか楽しい。 頼って頼られての関係が出来る。 エンジニアとしての立ち位置が見える 3日間っていう短い期間だし、少ないメンバーだし、やらなきゃいけないことはたくさんあるんだけど、実際出来るだけの技量が無かったり。 例えばFacebookのOAuth認証とか、IaaSやPaaSの利用経験とか。 特にOAuthなんてエンジニアなら誰でも出来て当然だと思うけど、オレは経験が無かったから調べながらの作業になった。 別に素で書ける必要は無いんだけど、これまでにやっていればGitHubから持ってきたりしてさっと作れたのになーと思った。 そんな感じでエンジニアとして出来るべきことってのも見えてきたりする。 なんか、デザインも出来るしプログラムも書けるよ、って人が、プログラム一本でやってる人より出来たりするしね笑 人脈が一気に広がる いろんな人に出会ったし名刺も交換したし、何より、エンジニアって足りてないんだなってものすごく感じた笑 ここで知り合った人に勉強会に誘われたり、終わった後もFacebookページでやり取りしたり、たぶん今後もどっかで何かを一緒にやるんじゃないかなーって気はしてる。 というか、やりたいなと思うし。 そんな仲間はきっと仕事をしてるだけじゃ見つからないし、本当に良かったなと思う。 もし何かをするときのために、技術者としてもっと努力しなきゃなってモチベーションにもつながった。 3日間は長い 確かに休みを全部使ってこういうのに参加するのは抵抗があるのかもしれない。 オレも2週連続で参加したせいで、部屋の掃除も出来ないし買い物にも行けないしで結構ぐちゃぐちゃになった笑 エンジニアって結構、勉強しなきゃいけないのはわかってるけど結局しないって人が多いんじゃないかなと思う。 特にオレはそういう焦りがすごくあったから、こういう場に行って、初めましての人となんかしたり、勉強会に誘われて平日の予定を埋めたりするようになったのはすごく良かったな。 HackerはStartup Weekendを楽しめる？ 個人的には、Startup Weekendを一番楽しめるのはHastlerでもなくDesignerでもなくHackerなんじゃないかと思ってる。 オレもやってる最中に、来るの間違えたかなーとか、もう来たくないなーって思う場面も結構あった。 でも終わってみると、すごく楽しくためになる経験だったなって思うし、何よりまた会いたい仲間が出来たことが嬉しかった。 もちろんオレも本業でプログラムをやってるから、お金についての云々は別に考えてないわけじゃないけど、でもみんなに必要とされながら書くプログラムも楽しいもんだと思います。 というわけで来年、Yokohama開催のは都合を合わせて参加したいと思います。 技術的な話 特にこれといってないんだけど、出来たらいいよねレベルで。 勘違いしないでほしいけど、これが出来なきゃ楽しめないとか、活躍出来ないとか、そういうことは一切ないです。 FacebookとかTwitter認証のあれこれ ティザーを作った場合には、何人がテスター登録してくれたかとかその辺を集める必要があるので、結局OAuthを使った認証を書くのが一番らくだよねってことになる。 1度でいいし、PHPでもPythonでもRubyでもなんでもいいから、ざっとロジックを書いたことがあるといいなあと思った。 どういう風なフローで処理をして、どういうデータが取れるのか、とか理解してると楽だからね。 ドメインのあれこれ カスタムドメインを取ることがあります。 正直これは無くても全然問題ないんだけど、あるとチームのテンションが結構あがる。 お金は発生するけど、今の時代ドメインなんて1000円しないんだし、エンジニアならドメインの1つや2つ持っててもいい気はする。 なので、HerokuやGoogle App Engine、AWSでのカスタムドメインの設定とか、CNAMEやAレコードやらの設定が未経験だとちょっと辛いかなと思った。 インフラまわりのあれこれ ティザーとかサービスをどこで動かすかの選択肢は多くあったほうが良いと思う。 例えば本当に静的なページならGitHub Pagesが一番手軽だし、少しでもサーバサイドロジックを書かなきゃいけないならHerokuかGAEだし、本格的に動かしたいならAWSあたりになるし。 また、それに伴うIaaS、PaaSのデプロイ方法とか。手軽さとか。利用できる言語とか。 チームメンバーに自分以外のHackerがいるなら、その人が使える言語に合わせなきゃいけない場合もあると思うので、その辺は柔軟にいけたほうがいいなあと思う。 マークアップの技術 ぶっちゃけStartup WeekendにDesignerは来ません！絶対に来ません！ 理由は知らんけどたぶんHastlerやHackerはCreateの分野に居て、DesignerはDesignの分野っていう点で色々と違うものがあるのかなと思う。 というわけでHackerがマークアップをします。しかしオレを含む9割のエンジニアはデザインが出来ません。 なので良い素材サイトを探しておきましょう。 サーバサイドなオレが良く使うサイトだったり、使おうと思って使わなかったサイトだったりをあげてこの記事をしめます。 フロントエンドをなんとかごまかそう作戦 Iconfinder - 400,000+ free and premium icons アイコン的な画像がたくさん探せる。有料のも無料のもあり。 ロゴなんてこれがあればそれなりに見栄えするものが作れる。 Google Fonts フリーフォント。 ロゴなんてこれがあればそれなりに見栄えするものが作れる。 Bootstrap | The world&rsquo;s most popular mobile-first and responsive front-end framework.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/12/02/went-to-startup-weekend-yokohama-2nd/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/11/12/pass-the-validation-of-w3c/"><img src="http://yet.unresolved.xyz/images/octopress.png" alt="OctopressをW3Cのバリデーションにパスさせる"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Wed, Nov 12, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/11/12/pass-the-validation-of-w3c/">OctopressをW3Cのバリデーションにパスさせる</a></h1>
        <div class="summary">ふと思い立ってMarkup Validation Serviceをやってみたら13個もエラーが出たので対応してみるよ。 Error Line 50, Column 32: Element hgroup not allowed as child of element header in this context. (Suppressing further errors from this subtree.) &lt;header role=&quot;banner&quot;&gt;&lt;hgroup&gt; Content model for element header: Flow content, but with no header, footer, or main element descendants. hgroupはheaderタグの中に入れちゃダメだよ。 次のも関連してる。 Error Line 50, Column 32: The hgroup element is obsolete. To mark up subheadings, consider either just putting the subheading into a p element after the h1-h6 element containing the main heading, or else putting the subheading directly within the h1-h6 element containing the main heading, but separated from the main heading by punctuation and/or within, for example, a span class=&quot;subheading&quot; element with differentiated styling.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/11/12/pass-the-validation-of-w3c/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/11/09/learn-docker/"><img src="http://yet.unresolved.xyz/images/docker.png" alt="Docker事始め"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Nov 9, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/11/09/learn-docker/">Docker事始め</a></h1>
        <div class="summary">ちょっとやりたいことがあって、Dockerを使ってみることに。 ドキュメントはDockerizing Applications: A &ldquo;Hello world&rdquo;から一通り読んだんだけど、 触りながらやってもちょっと覚えるのが大変そうだからまとめてみる。 何が出来る？何に使う？ Vagrantみたいに仮想環境をバンバン立ち上げることが出来るって認識は合ってそう。 しかしコンテナ型だから速いとかGolangで出来てるとか、各所は難しい話ばっかで何が出来て何に使うってのがいまいち見えてこないんだな。 特にオレみたいに、知識はないけどやってみたい人はそれじゃ理解が進まない！ ちなみにオレの場合、Vagrantはアプリケーション単位に環境を作っています。 開発するときは、ホストで書く-&gt;ゲストで動かす、って感じに動作環境として使ってるんだけど、 その点DockerはWebサーバとかDBサーバとか、そういう単位に仮想環境を作ってそれらを連携させたりするのが容易らしい。 さらに、環境まるごとバージョン管理ができるんだとか。 作っては捨てる環境ってだけじゃなくて、本番環境みたいに継続維持しなきゃいけない環境とかにも使えるんじゃないのかなあ、っていう印象。 ただ、こんな記事がある通り、 [翻訳] Dockerについてよくある勘違い 本番で動かすなら結構な知識が必要だから安易にやるのはちょっとね、ってのが製作陣の考えのよう。 オレは個人的な環境で使いたいだけだから、特に問題はないね。 どんな感じに使う？ ドキュメント通りに理解を進めていこう。 例えば、こんな感じでコンテナを起動した上でechoコマンドを実行したり、 $ sudo docker run ubuntu:14.04 /bin/echo 'Hello world' こんな感じでインタラクティブモードでの起動が出来たりする。 $ sudo docker run -t -i ubuntu:14.04 /bin/bash root@af8bae53bdd3:/# デーモンとして起動したり、 $ sudo docker run -d ubuntu:14.04 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot; 1e5535038e285177d5214659a068137486f96ee5c2e85a4ac52dc83f2ebe4147 起動してるデーモンを1つのプロセスとして確認できたりする。 $ sudo docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 1e5535038e28 ubuntu:14.04 /bin/sh -c 'while tr 2 minutes ago Up 1 minute insane_babbage CONTAINER_IDとNAMESはコンテナを起動するたびに変わる。 NAMESは自分で決めることも出来るとか？ デーモンとして起動したコンテナの出力を見るにはこんな感じ。 $ sudo docker logs insane_babbage hello world hello world hello world .</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/11/09/learn-docker/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/10/24/how-to-use-custom-domain-in-github-pages/"><img src="http://yet.unresolved.xyz/images/github.png" alt="GitHub Pagesでカスタムドメインを使う"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Fri, Oct 24, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/10/24/how-to-use-custom-domain-in-github-pages/">GitHub Pagesでカスタムドメインを使う</a></h1>
        <div class="summary">昨日はGAEで今日はGithubかよって感じだけど、こっちは結構詰まったのでメモしたい。 事の発端 このOctopressのblogをカスタムドメインにしてから、rake gen_deployするとGithubからこんなメールが来るようになりました。 [dim0627.github.io] Page build warning The page build completed successfully, but returned the following warning: GitHub Pages recently underwent some improvements (https://github.com/blog/1715-faster-more-awesome-github-pages) to make your site faster and more awesome, but we&rsquo;ve noticed that unresolved.dimspace.xyz isn&rsquo;t properly configured to take advantage of these new features. While your site will continue to work just fine, updating your domain&rsquo;s configuration offers some additional speed and performance benefits. Instructions on updating your site&rsquo;s IP address can be found at https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages, and of course, you can always get in touch with a human at support@github.com.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/10/24/how-to-use-custom-domain-in-github-pages/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/10/23/how-to-use-custom-domain-in-google-app-engine/"><img src="http://yet.unresolved.xyz/images/gae.png" alt="Google app engineでカスタムドメインを使う"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Thu, Oct 23, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/10/23/how-to-use-custom-domain-in-google-app-engine/">Google app engineでカスタムドメインを使う</a></h1>
        <div class="summary">簡単に終わるだろうと思ってたらそれなりに手順があったのでメモ。 Googleによるドメインの確認 ドメインを持っていない人は先に取得しちゃってね。 ちなみにオレはGMOさん(お名前.com)で取得しました。 ていうことで以下の手順にそってやっていきます。 Using a Custom Domain - Google App Engine Google Cloud Platform 作業はDevelopers Consoleから行います。 はじめにGoogleが、使いたいドメインが君のものか確認したいとのことなので、verifyへ。 そうするとこんな画面になるので、 ここに表示されてるテキストを、ドメインを発行した会社さんのほうからTXTレコードとして追加すればOK。 なんかこの画面、すごい頻度でChromeがエラー吐きまくったけど、クリックしなければ大丈夫だったのでなんとかしのぎました。 TXTレコードの追加は、お名前.comであればドメインNaviから ドメイン設定 DNS関連機能の設定 DNSレコード設定を利用する でここに入力すればOK。 TYPEはTXTにしてVALUEにさっきのテキストを入力。 場所にもよるけど少し待てば反映されるので、それまでGoogle側の画面で確認ボタンを何度か押してみる。 反映されてたら確認が通るはず。 ドメインの選択 確認が出来たらサブドメインとしてプレフィックスを付けるのかを決める。 これによって最後のステップが変わるけど、オレは確認の時点でサブドメインとして設定したので、Google側では特に付加せずやってます。 AレコードとAAAAレコードの追加 最後はまたDNSレコードの追加。 ここに記載された一覧をそれぞれのType、Dataに応じてTXTレコードのときと同じように追加すればOK。 あとは待ってればそのうち反映されるはず。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/10/23/how-to-use-custom-domain-in-google-app-engine/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/10/23/about-sqlserver-clusteredindex-and-nonclustered-index/"><img src="http://yet.unresolved.xyz/images/nopicture.png" alt="no_picture"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Thu, Oct 23, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/10/23/about-sqlserver-clusteredindex-and-nonclustered-index/">クラスタ化インデックスとかカバリングインデックスについて</a></h1>
        <div class="summary">SQL Serverを使ってて、ちょっと曖昧にしかわからんなってところがあったので少し調べてみた。 クラスタ化 / 非クラスタ化インデックスの違い MySQLにも同じ話があったんだね。 そもそもそれを知らない時点でいろいろだめなわけで。 まず参考にしたのはMSDN。 クラスター化インデックスと非クラスター化インデックスの概念 まさにぴったりのタイトルじゃんと思ったんだけどいまいちよくわからない。 いや、わかったっちゃわかったんだけど、だからどうなるとか、だからどうする、っていうところが掴めなかった。 ここでわかったこと クラスタ化インデックス 1テーブルに1つしか作れない。 これがあると指定されたインデックスの値によってソートされた構造体が出来る。(テーブルの構造ごとそうなる？) クラスタ化インデックスが設定されていないテーブルはヒープと呼ばれる未ソートの状態になる。 非クラスタ化インデックス テーブルとは別に構造を持つ。 実データじゃなく、実データへのポインタを持つ。 次に参考にさせてもらったのがこっち。 SQL Serverのインデックス構造（前編） (1&frasl;2) ここは非常にわかりやすかった B-Treeのイメージも、SQL Server上での実装が具体的にイメージ出来たし、非クラスタ化インデックスじゃ結局ランダムI/Oが発生するんだね、ってこともわかった。 ついでにB-Treeの勉強も軽くした。 RDBMSで使われるB木を学ぼう ここでわかったこと B-Treeなのでリーフノードのレベルが全部同じになる。 クラスタ化インデックスを利用したクエリの場合、リーフノードに実データがあるのでランダムI/Oが発生しない。 非クラスタ化インデックスを利用したクエリの場合、リーフノードにはポインタしかないので、ランダムI/Oが発生する。 ちなみにごめんなさいだけど、こっちのページはあまり理解が進まなかった・・・。 SQL Serverの大きな特徴、クラスタ化インデックスを押さえよう！ カバリングインデックス おまえそれも知らねーのかよって言われそうだけど・・・。 正直マルチカラムインデックスと混同してました。 これは結構わかりやすく書いてくれている記事があった。 MySQLのインデックスを学ぶ (1) クエリが必要とするカラムがすべてインデックスに含まれている場合、インデックスだけを読めば良いのでとても速い、というもの。 SQL インデックスを最適化する方法 カバーリング インデックスは、WHERE 句およびクエリ列選択の形態をとるすべての列を含む、非クラスタ化インデックスです。 誤った認識があればご指摘を。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/10/23/about-sqlserver-clusteredindex-and-nonclustered-index/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/10/22/move-sidebar-at-under-the-article/"><img src="http://yet.unresolved.xyz/images/octopress.png" alt="Octopressのサイドバーを下部に移動する"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Wed, Oct 22, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/10/22/move-sidebar-at-under-the-article/">Octopressのサイドバーを下部に移動する</a></h1>
        <div class="summary">デフォルトのテーマだとサイドバーの表示/非表示の切り替えが出来て、非表示にするとサイドバーは記事の下に落っこちるんだけど、 常時この状態にした方がかっこいいんでないか？ということで移動させてみることに。 サイドバーの非表示時に何が起きているかというと、bodyタグにclassが追加されてます。 具体的な処理は/javascripts/octopress.jsに書いてあるよ。 $('.toggle-sidebar').bind('click', function(e) { e.preventDefault(); if ($('body').hasClass('collapse-sidebar')) { $('body').removeClass('collapse-sidebar'); } else { $('body').addClass('collapse-sidebar'); } }); bodyタグがcollapse-sidebarクラスに属していれば、サイドバーは勝手に下に落っこちる訳だ。 bodyを描画するテンプレートは_layouts/default.htmlで、こんな記載がある。 長ったらしいので少し見やすく改行してあります。 &lt;body {% if page.body_id %} id=&quot;{{ page.body_id }}&quot; {% endif %} {% if page.sidebar == false %} class=&quot;no-sidebar&quot; {% endif %} {% if page.sidebar == 'collapse' or site.sidebar == 'collapse' %} class=&quot;collapse-sidebar sidebar-footer&quot; {% endif %} &gt; sidebarがcollapseの場合にclassが追加されるようになってるね。 sidebar-footerクラスもレイアウトに必要なものらしい。 というわけでテンプレートを直に変えるのではなくて、_config.ymlに以下を追加すれば対応出来そうだ。 sidebar: &quot;collapse&quot; トグルボタンのスペースが空いてしまうので、custom/_style.cssに以下も追加。 .collapse-sidebar #content { margin-right: 0; }</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/10/22/move-sidebar-at-under-the-article/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/10/19/build-auriga-server-on-ubuntu/"><img src="http://yet.unresolved.xyz/images/ubuntu.png" alt="UbuntuにAurigaを構築してみる"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Oct 19, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/10/19/build-auriga-server-on-ubuntu/">UbuntuにAurigaを構築してみる</a></h1>
        <div class="summary">今更だがAurigaの構築をやってみる。 どこもWindows環境での構築方法しか載ってないような印象なんだけどそんなことないのかな。 ソースのダウンロード Auriga Projectからソースを落とす。 言うまでもないけどバージョン番号は最新とかで。 $ wget -O auriga.zip http://auriga.moe.hm/Auriga/snapshotmanager.php?num=1221 $ unzip auriga.zip コンパイル なんか事前の設定とか必要なんだろうけど何も考えずにコンパイルしてみよう。 $ cd Auriga-1221full $ make で、エラーした。 ../common/grfio.c:87:20: fatal error: zlib.h: No such file or directory #include &lt;zlib.h&gt; ^ compilation terminated. make[1]: *** [../common/grfio.o] Error 1 make[1]: Leaving directory `/home/daisuketsuji/Downloads/Auriga-1221Full/src/map' zlibがないらしい。 $ sudo apt-get install zlib1g $ sudo apt-get install zlib1g-dev これで通った。 grfファイルの準備 grfファイルを用意しなきゃいけなかったらしい。 コンパイル前にすることはなかったな。Winならあるのかもね。 とりあえずgrfファイルはクライアント側にあるので、公式のクライアントダウンロードからダウンロード &amp; インストール。 Ubuntuじゃインストール出来ないから、Windowsでインストールして持ってくんのだるかった・・・。 持ってきたらconf/grf-files.txtに追記。 Aurigaと同じフォルダに入れたのでこんな感じに。 grf: ./data.grf 不要な行はコメントアウトで。 サーバ起動 Linuxの場合起動はauriga-startを使うみたい。 解凍直後は実行権限がないのでsudo chmod 744 auriga-startをしとく必要あり。 で、./auriga-start startで起動。 chrif: connection to the char server was closed.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/10/19/build-auriga-server-on-ubuntu/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/10/18/install-nodejs-on-ubuntu/"><img src="http://yet.unresolved.xyz/images/nodejs.png" alt="Ubuntuにnode.jsをインストールする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sat, Oct 18, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/10/18/install-nodejs-on-ubuntu/">Ubuntuにnode.jsをインストールする</a></h1>
        <div class="summary">そろそろ新しいことをやらねばなと思うので、node.jsに手を出してみるよ。 node.jsはmake &amp; make installを推奨しているとのことなので、とりあえずソースを持ってくる。 $ wget http://nodejs.org/dist/v0.10.32/node-v0.10.32.tar.gz $ tar zxvf node-v0.10.32.tar.gz $ make そしてエラー flock: g++: No such file or directory make[1]: * [/home/daisuketsuji/Develop/node/out/Release/openssl-cli] Error 69 make[1]: Leaving directory `/home/daisuketsuji/Develop/node/out' make: * [node] Error 2 g++がない。 build-essentialを使えばいいらしい。 $ sudo apt-get install -y build-essential $ make $ make install またエラー installing /usr/local/bin/node Traceback (most recent call last): File &quot;tools/install.py&quot;, line 191, in &lt;module&gt; run(sys.argv[:]) File &quot;tools/install.py&quot;, line 186, in run if cmd == 'install': return files(install) File &quot;tools/install.py&quot;, line 130, in files action(['out/Release/node'], 'bin/node') File &quot;tools/install.py&quot;, line 79, in install def install(paths, dst): map(lambda path: try_copy(path, dst), paths) File &quot;tools/install.py&quot;, line 79, in &lt;lambda&gt; def install(paths, dst): map(lambda path: try_copy(path, dst), paths) File &quot;tools/install.py&quot;, line 70, in try_copy try_unlink(target_path) # prevent ETXTBSY errors File &quot;tools/install.py&quot;, line 33, in try_unlink os.unlink(path) OSError: [Errno 13] Permission denied: '/usr/local/bin/node' make: *** [install] Error 1 ああ・・・。 $ sudo make install 行けたっぽいのでインタラクティブシェルを起動してみる。 daisuketsuji@daisuketsuji-VirtualBox:~/Develop/node-v0.10.32$ node &gt; console.log(&quot;hello world&quot;) hello world worked!</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/10/18/install-nodejs-on-ubuntu/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/29/laravel-array-input/"><img src="http://yet.unresolved.xyz/images/laravel.png" alt="Laravelで配列をリクエストパラメータにする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Mon, Sep 29, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/29/laravel-array-input/">Laravelで配列をリクエストパラメータにする</a></h1>
        <div class="summary">テーブルとかに入れた複数のInputを同じ名前にして配列でサーバに飛ばしたい、ってときいつも困る。 Laravelでやろうとしたときにドキュメントが見つけられなかったのでそれっぽくやってみました。 やりたいこと こんな感じで同名で複数の値をサーバに渡したいときにどうしたらいいの？っていう話。 &lt;form method=&quot;post&quot; action=&quot;xxx&quot;&gt; &lt;table&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/form&gt; ちなみにこのままだとDOMの最後尾にあるものだけが展開されるぽい。 方法1 name[]にする まあ大体のFWがこんな感じで展開してくれるんだろうけど、Laravelでも出来ました。 &lt;form method=&quot;post&quot; action=&quot;xxx&quot;&gt; &lt;table&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name[]&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age[]&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name[]&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age[]&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name[]&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age[]&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/29/laravel-array-input/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/28/learn-git-rm-command/"><img src="http://yet.unresolved.xyz/images/git.png" alt="git管理したくないファイルを除外する"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Sep 28, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/28/learn-git-rm-command/">git管理したくないファイルを除外する</a></h1>
        <div class="summary">ローカル環境でちょこちょこ作ってたやつを本番環境に載せたんだけど、それなりに解決してた環境依存が少し残ってて.gitignoreファイルをちゃんと書くことに。 しかし本番でcloneしてきたファイルをうまいことワーキングには残してインデックスから消すやりかたがわからない！ というわけで少しくらいまともに勉強してみる。 最初につまづいてたのはこのコマンドを連発してたから。 $ git rm filename どうやらこいつはインデックスだけでなくワーキングディレクトリからも消すようだ。 そこでインデックスからだけ消すものはないのかと調べてたらあった。 $ git rm --cached filename 参考にさせて頂きました transitive.info - git rm 使い方</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/28/learn-git-rm-command/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/27/could-not-force-push-on-git/"><img src="http://yet.unresolved.xyz/images/git.png" alt="gitでforce pushが出来ない"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sat, Sep 27, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/27/could-not-force-push-on-git/">gitでforce pushが出来ない</a></h1>
        <div class="summary">typoを直すためにrebase -iやらをやってたんだけど、操作してたのがmasterブランチだったのでどうしてもforce pushがしたかった。 一人で使ってたリポジトリだしね。 んだけど、-fをつけても To git://example.com/project1.git ! [rejected] master -&gt; master (non-fast-forward) error: failed to push some refs to 'git://example.com/project1.git' To prevent ... See the 'Note about fast-forwards' section of 'git push --help' for details. こんな感じになってしまう・・・。 解決 gitリポジトリのconfigを見たらこんな項目が、 [receive] denyNonFastforwards = true どうやらこいつをfalseにすればよかったらしい。 最初はtrueになってるもんなのかな・・・。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/27/could-not-force-push-on-git/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/21/making-new-theme-flatten/"><img src="http://yet.unresolved.xyz/images/octopress.png" alt="Octopressのテーマを作ってみる"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Sep 21, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/21/making-new-theme-flatten/">Octopressのテーマを作ってみる</a></h1>
        <div class="summary">元のやつもすっごいかっこよくてよかったんだけど、さすがに他の人とかぶっちゃうのはやだよね。 でもオレはデザイナーじゃないから、あんまりがっつりやるのもやだよね。 てことで元のclassicテーマをパクって作ろう。 Octopressから移行してしまったので、スクリーンショットだけ載せとく。 テーマの変え方 そもそも変え方すら知らない。 てことで調べた。 どうやらここにテーマ単位のディレクトリが配置されるらしい。 octopress git:(source)$ ls .themes classic で、rake install[theme name]でインストール。 テーマの構成 作るにも、テーマの定義に何が必要かがわからぬ。 classicの中を見てみよう。 octopress git:(source)$ ls .themes/classic sass source んん、シンプル。 察するにsassがスタイル系でsourceがテンプレート系なのかな？ 別にページレイアウトを変えたいとか、そんなたいそうなことは考えてないので、sass内をいじるだけでよさそう。 sass内はどうなってるのかな？ octopress git:(source)$ ls .themes/classic/sass _base.scss _partials.scss base custom partials plugins screen.scss octopress git:(source)$ ls .themes/classic/sass/custom _colors.scss _fonts.scss _layout.scss _styles.scss で、.themes/classic/sass/custom/_styles.scssがオーバーライド用のファイルなわけだな。 // This File is imported last, and will override other styles in the cascade // Add styles here to make changes</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/21/making-new-theme-flatten/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/21/description-is-not-set/"><img src="http://yet.unresolved.xyz/images/octopress.png" alt="_config.ymlに書いたdescriptionが設定されない"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sun, Sep 21, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/21/description-is-not-set/">_config.ymlに書いたdescriptionが設定されない</a></h1>
        <div class="summary">認識が間違ってるのか、_config.ymlに書いたdescriptionがサイトに反映されない・・・。 source/_includes/head.htmlのコードを見てみるとこんな感じ。 {% raw %} {% capture description %}{% if page.description %}{{ page.description }}{% else %}{{ content | raw_content }}{% endif %}{% endcapture %} &lt;meta name=&quot;description&quot; content=&quot;{{ description | strip_html | condense_spaces | truncate:150 }}&quot;&gt; {% if page.keywords %}&lt;meta name=&quot;keywords&quot; content=&quot;{{ page.keywords }}&quot;&gt;{% endif %} {% endraw %} page.descriptionしか見てない？ 同じことで悩んでる人いないのかな・・・と思ったら居た。 Make the Magic Happen やっぱり同じ認識のようだ。 elseifってこう書くんだね。 {% raw %} {% capture description %}{% if page.description %}{{ page.description }}{% elsif site.description %}{{ site.description }}{% else %}{{ content | raw_content }}{% endif %}{% endcapture %} &lt;meta name=&quot;description&quot; content=&quot;{{ description | strip_html | condense_spaces | truncate:150 }}&quot;&gt; {% if page.keywords %}&lt;meta name=&quot;keywords&quot; content=&quot;{{ page.keywords }}&quot;&gt;{% endif %} {% endraw %} worked!</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/21/description-is-not-set/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/20/making-gravatar-sidebar/"><img src="http://yet.unresolved.xyz/images/octopress.png" alt="OctopressのサイドバーにGravatarを表示させる"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sat, Sep 20, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/20/making-gravatar-sidebar/">OctopressのサイドバーにGravatarを表示させる</a></h1>
        <div class="summary">Octopressのサイドバーってどうなってんの？ そもそもOctopressの構成がまだよくわかってないのでそこから勉強しよう。 どうやらデフォルトで準備されてるサイドバーはここに格納されているらしい。 octopress git:(source)$ ls source/_includes/asides/ delicious.html github.html googleplus.html pinboard.html recent_posts.html で、自分で作りたい場合はここに格納するっぽい。 octopress git:(source)$ ls source/_includes/custom/asides about.html twitter.html って_config.ymlに書いてあった。 # list each of the sidebar modules you want to include, in the order you want them to appear. # To add custom asides, create files in /source/_includes/custom/asides/ and add them to the list like 'custom/asides/custom_aside_name.html' default_asides: [custom/asides/about.html, asides/recent_posts.html, custom/asides/twitter.html] Gravatarの情報って持って来れるの？ ちょっとだけ調べてみたらGravatarの画像だけ持ってくるpluginは用意されてるっぽい。 でもどうせなら自己紹介のところとかも欲しいよね。 で、Gravatarに開発者向け資料がありました。 しっかり読んでないけど、JSONで返せるっぽいからこれを使えばいいかな。 ハッシュを指定する必要があるみたいなので、公式から取得しとく。 作るぞ なんか最初からsource/_include/custom/asidesにabout.htmlってのがあるし、これにプロフィールを書こうかな。 まず取得したハッシュを_config.ymlに定義しちゃおう。 #</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/20/making-gravatar-sidebar/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/20/git-on-proxy/"><img src="http://yet.unresolved.xyz/images/git.png" alt="gitのリポジトリ単位にproxyの設定をする"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Sat, Sep 20, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/20/git-on-proxy/">gitのリポジトリ単位にproxyの設定をする</a></h1>
        <div class="summary">事の発端 会社ではvimを使ってます。 plugin管理にはneobundle.vim使ってます。 .vimrcはGitHubで管理してます。 neobundle.vimで管理してるpluginは大抵のものがGitHub上で管理されてるから、インストールとかアップデートをするときはneobundle.vimがGitHubまで見に行ってくれるんですね。 ただ、当然社内はproxyを通していて、gitコマンドが通らない！ ていうかそもそもGitHubから.vimrcを落としてくることすら出来ない！いいやzipで落とせ！ しかしpluginの導入を手でやるのはだるい・・・。 マジで？サクラエディタで頑張るしかない？ いやいやそんなことはない。 解決 じゃあこうしようってことで、~/.gitconfigをこんな感じにしたのよ。 [https] proxy = http://proxy.com:8080 ひとまず解決したんです。 そしたら次は社内のgitに繋がらない！！ マジかよじゃあ~/.gitconfigをちょこちょこ変えるのかよだせえよそれと思ったら既に解決してくれてる人がいた。 Git の http proxy に関するまとめ めんどくさかったけど、個々のpluginのconfigにだけproxyの記述を追加することで解決。</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/20/git-on-proxy/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
        <article class="post">
    <div class="eyecatch">
        
        <a href="http://yet.unresolved.xyz/blog/2014/09/17/install-the-octopress-on-github-pages/"><img src="http://yet.unresolved.xyz/images/octopress.png" alt="GitHub PagesにOctopressをのっけてみる"></a>
        
    </div>
    <div class="data">
        <span class="post-date">Wed, Sep 17, 2014</span>
        <h1 class="post-title"><a href="http://yet.unresolved.xyz/blog/2014/09/17/install-the-octopress-on-github-pages/">GitHub PagesにOctopressをのっけてみる</a></h1>
        <div class="summary">WordPress.comを使ってたんだけど、お金払わないと融通がきかないぽいので移行することに。 Markdownが使ってみたかったのと、カッコいいデザインが多そうなHatenaかなーと思ってたんだけど、GitHub Pagesが面白そうなのでとりあえずノリでこっちにしてみるよ。 Github Pages？ GitHub PagesはGitHubに[ユーザ名].github.ioって名前のリポジトリを作るだけで、pushしたページを外部公開出来るサービス。 そこでよく使われるBlogフレームワーク(?)がOctopressらしい。 どうやらOctopressはJekyllという静的ページジェネレータをさらに活用するためのものとのことで、 このJekyll(読みはジキル？)はMarkdownとかで書いたテキストファイルを静的ページに変換したりしてくれるものみたい。 Octopressをインストールする Octopress Setupが非常に良く書かれているのと、Octopress自体が見通しよく作られているので特に躓くことなく導入出来ました。 Octopressは記事を書くPCに導入して丸ごとGitHubにpushしてしまう仕組みらしく、まずは個人のPCに導入が必要。 $ git clone git://github.com/imathis/octopress.git octopress $ cd octopress $ gem install bundler $ rbenv rehash $ bundle install $ rake install で、次にデプロイする。 Deployingを見る限り、GitHub Pagesだけじゃなく、HerokuやRsyncでの利用も出来るっぽい。 なんかVPSとかでも運用してる人がいるっぽいね。 前述した通り今回はGitHub Pagesを利用することにしました。 最初に[ユーザ名].github.ioって名前のリポジトリを作っておく必要があるよ。 $ rake setup_github_pages リポジトリのURLとかが聞かれるので、表示された説明の通り入力。 pushしとく必要もあるっぽい。 $ rake generate $ rake deploy $ git add . $ git commit -m 'your message' $ git push origin source rake deployで乗っかるのは記事とかその辺のファイルだけなのかな？ In a few seconds you should get an email from Github telling you that your commit has been received and will be published on your site.</div>
    </div>
    <footer class="readon">
        <a href="http://yet.unresolved.xyz/blog/2014/09/17/install-the-octopress-on-github-pages/">
            <i class="fa fa-chevron-down"></i>
        </a>
    </footer>
</article>
<hr>

        
</div>


    </div>
</div>

<div class="container footer-ad">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-4218045898905176"
         data-ad-slot="4750057642"
         data-ad-format="auto"></ins>
    <script>
(adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


<aside class="sidebar-wrapper">
    <div class="container">
        
        <div class="tags tag-cloud">
            <h2>Tags</h2>
            <ul class="post-tags">
                
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/apigility">
                        apigility
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/auriga">
                        auriga
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/aws">
                        aws
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/beanstalk">
                        beanstalk
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/book">
                        book
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/boot2docker">
                        boot2docker
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/centos">
                        centos
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/clang">
                        clang
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/clojure">
                        clojure
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/css">
                        css
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/database">
                        database
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/design">
                        design
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/dns">
                        dns
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/docker">
                        docker
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/enlive">
                        enlive
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/git">
                        git
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/github">
                        github
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/golang">
                        golang
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/google-app-engine">
                        google-app-engine
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/gravatar">
                        gravatar
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/hackathon">
                        hackathon
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/heroku">
                        heroku
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/hiccup">
                        hiccup
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/html">
                        html
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/hugo">
                        hugo
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/javascript">
                        javascript
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/jekyll">
                        jekyll
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/laravel">
                        laravel
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/leiningen">
                        leiningen
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/linux">
                        linux
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/lobos">
                        lobos
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/mac">
                        mac
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/migration">
                        migration
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/node.js">
                        node.js
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/octopress">
                        octopress
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/os-x">
                        os-x
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/paiza">
                        paiza
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/paizaio">
                        paizaio
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/php">
                        php
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/postgres">
                        postgres
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/postgresql">
                        postgresql
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/python">
                        python
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/reactjs">
                        reactjs
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/ruby">
                        ruby
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/sass">
                        sass
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/scss">
                        scss
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/slack">
                        slack
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/sql-server">
                        sql-server
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/sqlite">
                        sqlite
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/startup">
                        startup
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/startup-weekend">
                        startup-weekend
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/ubuntu">
                        ubuntu
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/util">
                        util
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/vagrant">
                        vagrant
                    </a>
                </li>
                
                <li>
                    
                    <a href="http://yet.unresolved.xyz/tags/vim">
                        vim
                    </a>
                </li>
                
            </ul>
        </div>
        
        
        <div id="profile">
            <div class="eyecatch">
                <img id="photo" src="/images/nopicture.png" alt="profile">
            </div>
            <div class="data">
                
                <span class="post-date">Sun, Feb 26, 1989</span>
                
                <h1 id="username" class="post-title"></h1>
                
                <a href="https://www.facebook.com/daisuke.tsuji.735" target="_blank"><i class="fa fa-facebook-square"></i></a>
                
                
                <a href="https://twitter.com/dim0627" target="_blank"><i class="fa fa-twitter-square"></i></a>
                
                
                <a href="https://github.com/dim0627" target="_blank"><i class="fa fa-github-square"></i></a>
                
                <pre id="description"></pre>
                <ul id="urls" class="post-tags"></ul>
            </div>
        </div>
        
    </div>
</aside>



<footer class="copy">
    <p>&copy; 2015  Daisuke Tsuji </p>
    <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>, Theme <a href="https://github.com/dim0627/hugo_theme_aglaus" target="_blank">Aglaus</a> designed by <a href="http://yet.unresolved.xyz" target="_blank">Daisuke Tsuji</a></p>
</footer>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script src="http://yet.unresolved.xyz/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-55005303-1', 'auto');
ga('send', 'pageview');

</script>


<script>
$(function() {
    var url = "https://ja.gravatar.com/1e092e9f2cda827deb8623be2e846936.json?callback=?";
    $.getJSON(url)
        .done(function(data) {
            var entry = data.entry[0];
            $("#photo").attr("src", entry.photos[0].value);
            $("#username").html(entry.name.familyName + " " + entry.name.givenName);
            $("#description").html(entry.aboutMe);
            entry.urls.forEach(function(el){
                $("#urls").append($("<li><a href='" + el.value + "'>" + el.title + "</a></li>"));
            });
            $("#profile").show();
        });
});
</script>

