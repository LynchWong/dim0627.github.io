<!DOCTYPE html>

<meta charset="utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta property="og:url" content="http://localhost:1313">


<meta property="og:type" content="article">
<meta property="og:title" content="Octopressのサイドバーを下部に移動する &middot; Unresolved">

<meta property="og:image" content="http://localhost:1313/images/octopress.png">


<meta property="og:site_name" content="Unresolved">

<title>
    
    Octopressのサイドバーを下部に移動する
    
</title>


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/solarized_dark.min.css">
<link rel="stylesheet" href="http://localhost:1313/css/styles.css">
<link rel="stylesheet" href="http://localhost:1313/css/custom.css">


<link rel="shortcut icon" href="http://localhost:1313/assets/favicon.ico">


<link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:1313/atom.xml">



<div class="wrap">
    <div class="masthead">
        <div class="container">
            <h3 class="masthead-title">
                <a href="http://localhost:1313" title="Home">Unresolved</a>
            </h3>
            

<article class="post post-single">
    <span class="post-date">Wed, Oct 22, 2014</span>
    <h1 class="post-title">Octopressのサイドバーを下部に移動する</h1>

    <div class="eyecatch">
        
        <img src="/images/octopress.png" alt="Octopressのサイドバーを下部に移動する">
        
    </div>

    <div class="post-content">
        <p>デフォルトのテーマだとサイドバーの表示/非表示の切り替えが出来て、非表示にするとサイドバーは記事の下に落っこちるんだけど、</p>

<p>常時この状態にした方がかっこいいんでないか？ということで移動させてみることに。</p>

<p>サイドバーの非表示時に何が起きているかというと、bodyタグにclassが追加されてます。</p>

<p>具体的な処理は<code>/javascripts/octopress.js</code>に書いてあるよ。</p>

<pre><code class="language-javascript">$('.toggle-sidebar').bind('click', function(e) {
  e.preventDefault();
  if ($('body').hasClass('collapse-sidebar')) {
    $('body').removeClass('collapse-sidebar');
  } else {
    $('body').addClass('collapse-sidebar');
  }
});
</code></pre>

<p>bodyタグが<code>collapse-sidebar</code>クラスに属していれば、サイドバーは勝手に下に落っこちる訳だ。</p>

<p>bodyを描画するテンプレートは<code>_layouts/default.html</code>で、こんな記載がある。</p>

<p>長ったらしいので少し見やすく改行してあります。</p>

<pre><code>&lt;body
{% if page.body_id %}
    id=&quot;{{ page.body_id }}&quot;
{% endif %}

{% if page.sidebar == false %}
    class=&quot;no-sidebar&quot;
{% endif %}

{% if page.sidebar == 'collapse' or site.sidebar == 'collapse' %}
    class=&quot;collapse-sidebar sidebar-footer&quot;
{% endif %}
&gt;
</code></pre>

<p>sidebarが<code>collapse</code>の場合にclassが追加されるようになってるね。</p>

<p><code>sidebar-footer</code>クラスもレイアウトに必要なものらしい。</p>

<p>というわけでテンプレートを直に変えるのではなくて、<code>_config.yml</code>に以下を追加すれば対応出来そうだ。</p>

<pre><code class="language-yml">sidebar: &quot;collapse&quot;
</code></pre>

<p>トグルボタンのスペースが空いてしまうので、<code>custom/_style.css</code>に以下も追加。</p>

<pre><code class="language-css">.collapse-sidebar #content {
    margin-right: 0;
}
</code></pre>

<p>大体思い通りになったかな。</p>

<p>別の部分の問題だろうけど、トップページと記事ページで、少しレイアウトが崩れるのが気になる・・・。</p>

    </div>

    

    
    <footer>
        <div class="move">
            <div class="prev">
                
                <a href="